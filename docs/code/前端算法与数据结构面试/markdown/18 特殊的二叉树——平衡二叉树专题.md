äºŒå‰æœç´¢æ ‘æ˜¯äºŒå‰æ ‘çš„ç‰¹ä¾‹ï¼Œå¹³è¡¡äºŒå‰æ ‘åˆ™æ˜¯äºŒå‰æœç´¢æ ‘çš„ç‰¹ä¾‹ã€‚

## ä»€ä¹ˆæ˜¯å¹³è¡¡äºŒå‰æ ‘

åœ¨ä¸Šä¸€èŠ‚çš„æœ«å°¾ï¼Œæˆ‘ä»¬å·²ç»é€šè¿‡ä¸€é“çœŸé¢˜å’Œå¹³è¡¡äºŒå‰æ ‘æ‰“è¿‡äº¤é“ã€‚æ­£å¦‚é¢˜ç›®ä¸­æ‰€è¯´ï¼Œå¹³è¡¡äºŒå‰æ ‘ï¼ˆåˆç§° AVL Treeï¼‰æŒ‡çš„**æ˜¯ä»»æ„ç»“ç‚¹**çš„**å·¦å³å­æ ‘é«˜åº¦å·®ç»å¯¹å€¼éƒ½ä¸å¤§äº1**çš„äºŒå‰**æœç´¢æ ‘**ã€‚

## ä¸ºä»€ä¹ˆè¦æœ‰å¹³è¡¡äºŒå‰æ ‘

å¹³è¡¡äºŒå‰æ ‘çš„å‡ºç°ï¼Œæ˜¯ä¸ºäº†é™ä½äºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ã€‚
å¤§å®¶çŸ¥é“ï¼Œå¯¹äºåŒæ ·ä¸€ä¸ªéå†åºåˆ—ï¼ŒäºŒå‰æœç´¢æ ‘çš„é€ å‹å¯ä»¥æœ‰å¾ˆå¤šç§ã€‚æ‹¿ `[1,2,3,4,5]`è¿™ä¸ªä¸­åºéå†åºåˆ—æ¥è¯´ï¼ŒåŸºäºå®ƒå¯ä»¥æ„é€ å‡ºçš„äºŒå‰æœç´¢æ ‘å°±åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç§é€ å‹ï¼š

![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/5/24/17245d06f50d1e9f~tplv-t2oaga2asx-watermark.awebp)

![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/5/24/17245d2227c126fc~tplv-t2oaga2asx-watermark.awebp) ç»“åˆå¹³è¡¡äºŒå‰æ ‘çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç¬¬ä¸€æ£µäºŒå‰æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œç¬¬äºŒæ£µäºŒå‰æ ‘æ˜¯æ™®é€šçš„äºŒå‰æœç´¢æ ‘ã€‚
ç°åœ¨ï¼Œå¦‚æœè¦ä½ åŸºäºä¸Šä¸€èŠ‚å­¦è¿‡çš„äºŒå‰æœç´¢æ ‘æŸ¥æ‰¾ç®—æ³•ï¼Œåœ¨å›¾ä¸Šä¸¤æ£µæ ‘ä¸Šåˆ†åˆ«æ‰¾å‡ºå€¼ä¸º1çš„ç»“ç‚¹ï¼Œé—®ä½ å„éœ€è¦æŸ¥æ‰¾å‡ æ¬¡ï¼Ÿåœ¨1å·äºŒå‰æ ‘ä¸­ï¼ŒåŒ…æ‹¬æ ¹ç»“ç‚¹åœ¨å†…ï¼Œåªéœ€è¦æŸ¥æ‰¾3æ¬¡ï¼›è€Œåœ¨2å·äºŒå‰æ ‘ä¸­ï¼ŒåŒ…æ‹¬æ ¹ç»“ç‚¹åœ¨å†…ï¼Œä¸€å…±éœ€è¦æŸ¥æ‰¾5æ¬¡ã€‚

æˆ‘ä»¬å‘ç°ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œå¯¹äºåŒä¸€ä¸ªéå†åºåˆ—æ¥è¯´ï¼Œå¹³è¡¡äºŒå‰æ ‘æ¯”éå¹³è¡¡äºŒå‰æ ‘ï¼ˆå›¾ä¸Šçš„ç»“æ„å¯ä»¥ç§°ä¸ºé“¾å¼äºŒå‰æ ‘ï¼‰çš„æŸ¥æ‰¾æ•ˆç‡æ›´é«˜ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

å¤§å®¶å¯ä»¥ä»”ç»†æƒ³æƒ³ï¼Œä¸ºä»€ä¹ˆç§‘å­¦å®¶ä»¬ä¼šæ— ä¸­ç”Ÿæœ‰ï¼Œç»™äºŒå‰æ ‘çš„å·¦å³å­æ ‘å’Œæ ¹ç»“ç‚¹ä¹‹é—´å¼ºåŠ ä¸Šæ’åºå…³ç³»ä½œä¸ºçº¦æŸï¼Œè¿›è€Œåˆ›é€ å‡ºäºŒå‰æœç´¢æ ‘è¿™ç§ä¸œè¥¿å‘¢ï¼Ÿéš¾é“åªæ˜¯ä¸ºäº†è£…xå—ï¼Ÿå½“ç„¶ä¸æ˜¯å•¦ã€‚**äºŒå‰æœç´¢æ ‘çš„å¦™å¤„å°±åœ¨äºå®ƒæŠŠâ€œäºŒåˆ†â€è¿™ç§æ€æƒ³ä»¥æ•°æ®ç»“æ„çš„å½¢å¼è¡¨è¾¾äº†å‡ºæ¥**ã€‚åœ¨ä¸€ä¸ªæ„é€ åˆç†çš„äºŒå‰æœç´¢æ ‘é‡Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹æ¯”å½“å‰ç»“ç‚¹å’Œç›®æ ‡å€¼ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œç¼©å°ä¸‹ä¸€æ­¥çš„æœç´¢èŒƒå›´ï¼ˆæ¯”å¦‚åªæœç´¢å·¦å­æ ‘æˆ–è€…åªæœç´¢å³å­æ ‘ï¼‰ï¼Œè¿›è€Œè§„é¿æ‰ä¸å¿…è¦çš„æŸ¥æ‰¾æ­¥éª¤ï¼Œé™ä½æœç´¢è¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ã€‚ä½†æ˜¯å¦‚æœä¸€ä¸ªäºŒå‰æœç´¢æ ‘ä¸¥é‡ä¸å¹³è¡¡ï¼Œæ¯”å¦‚è¯´ä¸Šé¢è¿™æ£µé“¾å¼æœç´¢æ ‘ï¼š
![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/5/24/17245d2227c126fc~tplv-t2oaga2asx-watermark.awebp)

æ¯ä¸€ä¸ªç»“ç‚¹çš„å³å­æ ‘éƒ½æ˜¯ç©ºçš„ï¼Œè¿™æ ·çš„ç»“æ„éå¸¸ä¸åˆç†ï¼Œå®ƒä¼šå¸¦æ¥é«˜è¾¾O(N)çš„æ—¶é—´å¤æ‚åº¦ã€‚è€Œå¹³è¡¡äºŒå‰æ ‘ç”±äºåˆ©ç”¨äº†äºŒåˆ†æ€æƒ³ï¼ŒæŸ¥æ‰¾æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä»…ä¸º O(logN)ã€‚å› æ­¤ï¼Œä¸ºäº†ä¿è¯äºŒå‰æœç´¢æ ‘èƒ½å¤Ÿç¡®å®ä¸ºæŸ¥æ‰¾æ“ä½œå¸¦æ¥æ•ˆç‡ä¸Šçš„æå‡ï¼Œæˆ‘ä»¬æœ‰å¿…è¦åœ¨æ„é€ äºŒå‰æœç´¢æ ‘çš„è¿‡ç¨‹ä¸­ç»´æŒå…¶å¹³è¡¡åº¦ï¼Œè¿™å°±æ˜¯å¹³è¡¡äºŒå‰æ ‘çš„æ¥ç”±ã€‚

## å‘½é¢˜æ€è·¯è§£è¯»

å¹³è¡¡äºŒå‰æ ‘å’ŒäºŒå‰æœç´¢æ ‘ä¸€æ ·ï¼Œéƒ½è¢«å½’ç±»ä¸ºâ€œç‰¹æ®Šâ€çš„äºŒå‰æ ‘ã€‚å¯¹äºè¿™æ ·çš„æ•°æ®ç»“æ„æ¥è¯´ï¼Œå…¶â€œç‰¹æ®Šâ€ä¹‹å¤„ä¹Ÿæ­£æ˜¯å…¶è€ƒç‚¹æ‰€åœ¨ï¼Œå› æ­¤çœŸé¢˜å¾€å¾€ç¨³å®šåœ°åˆ†å¸ƒåœ¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹å‘ï¼š

- å¯¹ç‰¹æ€§çš„è€ƒå¯Ÿï¼ˆæœ¬èŠ‚ä»¥å¹³è¡¡äºŒå‰æ ‘çš„åˆ¤å®šä¸ºä¾‹ï¼‰
- å¯¹æ“ä½œçš„è€ƒå¯Ÿï¼ˆæœ¬èŠ‚ä»¥å¹³è¡¡äºŒå‰æ ‘çš„æ„é€ ä¸ºä¾‹ï¼‰

## å¹³è¡¡äºŒå‰æ ‘çš„åˆ¤å®š

> é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ã€‚

æœ¬é¢˜ä¸­ï¼Œä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æ ‘å®šä¹‰ä¸ºï¼š ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ã€‚

> ç¤ºä¾‹ 1:

ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]

```
    3
   / \
  9  20
    /  \
   15   7
```

> è¿”å› true ã€‚

> ç¤ºä¾‹ 2:

ç»™å®šäºŒå‰æ ‘ [1,2,2,3,3,null,null,4,4]

```
       1
      / \
     2   2
    / \
   3   3
  / \
 4   4
```

> è¿”å› false ã€‚

### æ€è·¯åˆ†æ

æ¥ï¼Œæˆ‘ä»¬å¤ä¹ ä¸€éå¹³è¡¡äºŒå‰æ ‘çš„å®šä¹‰ï¼š

> å¹³è¡¡äºŒå‰æ ‘**æ˜¯ä»»æ„ç»“ç‚¹**çš„**å·¦å³å­æ ‘é«˜åº¦å·®ç»å¯¹å€¼éƒ½ä¸å¤§äº1**çš„äºŒå‰**æœç´¢æ ‘**ã€‚

æŠ“ä½å…¶ä¸­çš„ä¸‰ä¸ªå…³é”®å­—ï¼š

1. ä»»æ„ç»“ç‚¹
2. å·¦å³å­æ ‘é«˜åº¦å·®ç»å¯¹å€¼éƒ½ä¸å¤§äº1
3. äºŒå‰æœç´¢æ ‘

æ³¨æ„ï¼Œç»“åˆé¢˜æ„ï¼Œä¸Šé¢3ä¸ªå…³é”®å­—ä¸­çš„3å¯¹è¿™é“é¢˜æ¥è¯´æ˜¯ä¸é€‚ç”¨çš„ï¼Œå› æ­¤æˆ‘ä»¬ä¸å¿…å¯¹äºŒå‰æœç´¢æ ‘çš„æ€§è´¨è¿›è¡Œæ ¡éªŒã€‚ç°åœ¨åªçœ‹ 1 å’Œ 2ï¼Œå…ˆç»™è‡ªå·±ä¸€åˆ†é’Ÿæ€è€ƒä¸€ä¸‹â€”â€”ä½ å¯ä»¥æå–å‡ºä»€ä¹ˆçº¿ç´¢ï¼Ÿ

â€œä»»æ„ç»“ç‚¹â€ä»€ä¹ˆæ„æ€ï¼Ÿæ¯ä¸€ä¸ªç»“ç‚¹éƒ½éœ€è¦ç¬¦åˆæŸä¸ªæ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªç»“ç‚¹åœ¨è¢«éå†åˆ°çš„æ—¶å€™éƒ½éœ€è¦é‡å¤æŸä¸ªæ ¡éªŒæµç¨‹ï¼Œå¯¹ä¸å¯¹ï¼Ÿ
å“ï¼Œæˆ‘åˆšåˆšæ˜¯ä¸æ˜¯è¯´äº†ä»€ä¹ˆä¸å¾—äº†çš„åŠ¨è¯äº†ï¼Ÿå•Šï¼Œæ˜¯**é‡å¤**ï¼æ˜¯tmdçš„**é‡å¤å•Š**ï¼ï¼ï¼æ¥ï¼Œå­¦åˆ°äº†ç¬¬18èŠ‚ï¼Œä¸ºäº†å‘æˆ‘è¯æ˜ä½ æ²¡æœ‰è·³è¯»ï¼Œè¯·å¤§å£°å–Šå‡ºä¸‹é¢è¿™ä¸¤ä¸ªå­—ï¼š

é€’å½’ï¼

æ²¡é”™ï¼Œâ€œä»»æ„ç»“ç‚¹â€è¿™å››ä¸ªå­—ï¼Œå°±æ˜¯åœ¨æš—ç¤ºä½ ç”¨é€’å½’ã€‚è€Œâ€œå·¦å³å­æ ‘é«˜åº¦å·®ç»å¯¹å€¼éƒ½ä¸å¤§äº1â€è¿™ä¸ªæ ¡éªŒè§„åˆ™ï¼Œå°±æ˜¯é€’å½’å¼ã€‚

å•Šï¼ŒçœŸè®©äººæ¿€åŠ¨å‘¢ï¼Œè§£å†³è¿™é“é¢˜çš„æ€è·¯ç«Ÿç„¶å·²ç»æ…¢æ…¢æµ®ç°å‡ºæ¥äº†ï¼Œé‚£å°±æ˜¯ï¼šä»ä¸‹å¾€ä¸Šé€’å½’éå†æ ‘ä¸­çš„æ¯ä¸€ä¸ªç»“ç‚¹ï¼Œè®¡ç®—å…¶å·¦å³å­æ ‘çš„é«˜åº¦å¹¶è¿›è¡Œå¯¹æ¯”ï¼Œåªè¦æœ‰ä¸€ä¸ªé«˜åº¦å·®çš„ç»å¯¹å€¼å¤§äº1ï¼Œé‚£ä¹ˆæ•´æ£µæ ‘éƒ½ä¼šè¢«åˆ¤ä¸ºä¸å¹³è¡¡ã€‚

### ç¼–ç å®ç°

```js
const isBalanced = function(root) {
  // ç«‹ä¸€ä¸ªflagï¼Œåªè¦æœ‰ä¸€ä¸ªé«˜åº¦å·®ç»å¯¹å€¼å¤§äº1ï¼Œè¿™ä¸ªflagå°±ä¼šè¢«ç½®ä¸ºfalse
  let flag = true
  // å®šä¹‰é€’å½’é€»è¾‘
  function dfs(root) {
      // å¦‚æœæ˜¯ç©ºæ ‘ï¼Œé«˜åº¦è®°ä¸º0ï¼›å¦‚æœflagå·²ç»falseäº†ï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦å¾€ä¸‹èµ°äº†ï¼Œç›´æ¥return
      if(!root || !flag) {
          return 0 
      }
      // è®¡ç®—å·¦å­æ ‘çš„é«˜åº¦
      const left = dfs(root.left)  
      // è®¡ç®—å³å­æ ‘çš„é«˜åº¦
      const right = dfs(root.right)  
      // å¦‚æœå·¦å³å­æ ‘çš„é«˜åº¦å·®ç»å¯¹å€¼å¤§äº1ï¼Œflagå°±ç ´åŠŸäº†
      if(Math.abs(left-right) > 1) {
          flag = false
          // åé¢å†å‘ç”Ÿä»€ä¹ˆå·²ç»ä¸é‡è¦äº†ï¼Œè¿”å›ä¸€ä¸ªä¸å½±å“å›æº¯è®¡ç®—çš„å€¼
          return 0
      }
      // è¿”å›å½“å‰å­æ ‘çš„é«˜åº¦
      return Math.max(left, right) + 1
  }
  
  // é€’å½’å…¥å£
  dfs(root) 
  // è¿”å›flagçš„å€¼
  return flag
};
```

## å¹³è¡¡äºŒå‰æ ‘çš„æ„é€ 

> é¢˜ç›®æè¿°ï¼šç»™ä½ ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·ä½ è¿”å›ä¸€æ£µå¹³è¡¡åçš„äºŒå‰æœç´¢æ ‘ï¼Œæ–°ç”Ÿæˆçš„æ ‘åº”è¯¥ä¸åŸæ¥çš„æ ‘æœ‰ç€ç›¸åŒçš„èŠ‚ç‚¹å€¼ã€‚

å¦‚æœä¸€æ£µäºŒå‰æœç´¢æ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ä¸¤æ£µå­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡ 1 ï¼Œæˆ‘ä»¬å°±ç§°è¿™æ£µäºŒå‰æœç´¢æ ‘æ˜¯å¹³è¡¡çš„ã€‚
å¦‚æœæœ‰å¤šç§æ„é€ æ–¹æ³•ï¼Œè¯·ä½ è¿”å›ä»»æ„ä¸€ç§ã€‚

> ç¤ºä¾‹ï¼š

![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/5/4/171e046bc8287d8b~tplv-t2oaga2asx-watermark.awebp) ![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/5/4/171e046d9a086675~tplv-t2oaga2asx-watermark.awebp)

> è¾“å…¥ï¼šroot = [1,null,2,null,3,null,4,null,null]

è¾“å‡ºï¼š[2,1,3,null,null,null,4]
è§£é‡Šï¼šè¿™ä¸æ˜¯å”¯ä¸€çš„æ­£ç¡®ç­”æ¡ˆï¼Œ[3,1,4,null,2,null,null] ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¡Œçš„æ„é€ æ–¹æ¡ˆã€‚

> æç¤ºï¼š

æ ‘èŠ‚ç‚¹çš„æ•°ç›®åœ¨ 1 åˆ° 10^4 ä¹‹é—´ã€‚ æ ‘èŠ‚ç‚¹çš„å€¼äº’ä¸ç›¸åŒï¼Œä¸”åœ¨ 1 åˆ° 10^5 ä¹‹é—´ã€‚

### æ€è·¯åˆ†æ

è¿™é“é¢˜ä¹ä¸€çœ‹æœ‰ç‚¹å”¬äººï¼Œå¯èƒ½ä¼šç›´æ¥å¹²æ‡µä¸€éƒ¨åˆ†åŒå­¦ã€‚ä¸è¿‡ä¸ç”¨æ…Œâ€”â€”é¢˜ç›®å†æ–°ï¼Œå¥—è·¯ä¾æ—§ã€‚åªè¦ä½ å¯¹æ ¸å¿ƒè€ƒç‚¹æŠŠæ¡å¾—è¶³å¤Ÿæ‰å®ï¼Œå®ƒå°±éš¾ä¸å€’ä½ ã€‚

æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™é“é¢˜çš„æ ¸å¿ƒè¯‰æ±‚ï¼šè¦æ±‚æˆ‘ä»¬æ„é€ ä¸€æ£µå¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚å…ˆæŠ›å¼€é¢˜å¹²ä¸­å„ç§å‰ç½®æ¡ä»¶ä¸è°ˆï¼Œå•çœ‹è¿™ä¸ªè¾“å‡ºç»“æœï¼Œä½ ä¼šä¸ä¼šæœ‰ä¸€ç§ä¼¼æ›¾ç›¸è¯†çš„æ„Ÿè§‰å‘¢ï¼Ÿæ²¡é”™ï¼Œåœ¨ä¸Šä¸€èŠ‚çš„æœ€åä¸€é“çœŸé¢˜ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ„é€ è¿‡è¿™æ ·çš„ä¸€æ£µäºŒå‰æ ‘ã€‚

é‚£ä¹ˆè¿™ä¸¤é“é¢˜ä¹‹é—´ä¼šä¸ä¼šæœ‰ä»€ä¹ˆå¾®å¦™çš„è”ç³»å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¼šï¼Œä¸ç„¶ï¼Œç¬”è€…ä¹Ÿä¸ä¼šæŠŠå®ƒä»¬æ”¾å¾—è¿™ä¹ˆè¿‘ï¼ˆç–¯ç‹‚æš—ç¤ºï¼‰ã€‚ä¸¤é“é¢˜ä¹‹é—´å”¯ä¸€çš„å·®åˆ«åœ¨äºè¾“å…¥ï¼šåœ¨æˆ‘ä»¬å·²ç»åšè¿‡çš„é‚£é“é¢˜ä¸­ï¼Œè¾“å…¥å‚æ•°æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼›è€Œè¿™é“é¢˜ä¸­ï¼Œè¾“å…¥å‚æ•°æ˜¯ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ã€‚

å””ï¼Œå†æƒ³æƒ³ï¼ä¸Šä¸€èŠ‚é‚£é“é¢˜é‡Œçš„â€œæœ‰åºæ•°ç»„â€ï¼Œå’Œçœ¼å‰è¿™é“é¢˜é‡Œçš„â€œäºŒå‰æœç´¢æ ‘â€ä¹‹é—´ï¼Œä¼šä¸ä¼šæœ‰ä»€ä¹ˆå¦™ä¸å¯è¨€çš„å…³ç³»å‘¢ï¼Ÿ

åˆ«å¿˜äº†ï¼Œ**äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†åºåˆ—æ˜¯æœ‰åºçš„**ï¼æ‰€è°“æœ‰åºæ•°ç»„ï¼Œå®Œå…¨å¯ä»¥ç†è§£ä¸ºäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†åºåˆ—å•Šï¼Œå¯¹ä¸å¯¹ï¼Ÿç°åœ¨æ ‘éƒ½ç»™åˆ°å’±ä»¬æ‰‹é‡Œäº†ï¼Œæ±‚å®ƒçš„ä¸­åºéå†åºåˆ—æ˜¯ä¸æ˜¯éå¸¸ easyï¼Ÿå¦‚æœèƒ½æŠŠä¸­åºéå†åºåˆ—æ±‚å‡ºæ¥ï¼Œè¿™é“é¢˜æ˜¯ä¸æ˜¯å°±è·Ÿä¹‹å‰åšè¿‡é‚£é“æ˜¯ä¸€æ¨¡ä¸€æ ·çš„è§£æ³•äº†ï¼Ÿ

æ²¡é”™ï¼Œè¿™é“é¢˜çš„è§£é¢˜æ€è·¯æ­£æ˜¯ï¼š

1. ä¸­åºéå†æ±‚å‡ºæœ‰åºæ•°ç»„
2. é€ä¸ªå°†äºŒåˆ†å‡ºæ¥çš„æ•°ç»„å­åºåˆ—â€œæâ€èµ·æ¥å˜æˆäºŒå‰æœç´¢æ ‘

### ç¼–ç å®ç°

```js
/**
 * @param {TreeNode} root
 * @return {TreeNode}
 */
const balanceBST = function(root) {
    // åˆå§‹åŒ–ä¸­åºéå†åºåˆ—æ•°ç»„
    const nums = []
    // å®šä¹‰ä¸­åºéå†äºŒå‰æ ‘ï¼Œå¾—åˆ°æœ‰åºæ•°ç»„
    function inorder(root) {
        if(!root) {
            return 
        }
        inorder(root.left)  
        nums.push(root.val)  
        inorder(root.right)
    }
    
    // è¿™å¨ä»£ç çš„é€»è¾‘å’Œä¸Šä¸€èŠ‚æœ€åä¸€é¢˜çš„ä»£ç ä¸€æ¨¡ä¸€æ ·
    function buildAVL(low, high) {
        // è‹¥ low > highï¼Œåˆ™è¶Šç•Œï¼Œè¯´æ˜å½“å‰ç´¢å¼•èŒƒå›´å¯¹åº”çš„å­æ ‘å·²ç»æ„å»ºå®Œæ¯•
        if(low>high) {
            return null
        }
        // å–æ•°ç»„çš„ä¸­é—´å€¼ä½œä¸ºæ ¹ç»“ç‚¹å€¼
        const mid = Math.floor(low + (high -low)/2)
        // åˆ›é€ å½“å‰æ ‘çš„æ ¹ç»“ç‚¹
        const cur = new TreeNode(nums[mid])  
        // æ„å»ºå·¦å­æ ‘
        cur.left = buildAVL(low, mid-1) 
        // æ„å»ºå³å­æ ‘
        cur.right = buildAVL(mid+1, high)  
        // è¿”å›å½“å‰æ ‘çš„æ ¹ç»“ç‚¹ 
        return cur
    }
    // è°ƒç”¨ä¸­åºéå†æ–¹æ³•ï¼Œæ±‚å‡º nums
    inorder(root)
    // åŸºäº numsï¼Œæ„é€ å¹³è¡¡äºŒå‰æ ‘
    return buildAVL(0, nums.length-1)
};
```

ç•™è¨€

![img](https://p9-passport.byteacctimg.com/img/user-avatar/5e41ee1c076d80557fa78839ed4c71c7~300x300.image)

å‘è¡¨è¯„è®º

å…¨éƒ¨è¯„è®ºï¼ˆ26ï¼‰

[![PromiseUçš„å¤´åƒ](https://p26-passport.byteacctimg.com/img/mosaic-legacy/3793/3131589739~300x300.image)](https://juejin.cn/user/395479917539719)

[PromiseU![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/395479917539719)

2æœˆå‰

ä¿®è¨€å¤§ä½¬ æƒ³é—®é—®AVLçš„æ—‹è½¬ç›¸å…³æ“ä½œè€ƒå¯Ÿæ¦‚ç‡å¤§å°å¦‚ä½•å‘¢

ç‚¹èµ

å›å¤

[![Mr.HoTwoçš„å¤´åƒ](https://p9-passport.byteacctimg.com/img/mosaic-legacy/3795/3047680722~300x300.image)](https://juejin.cn/user/976022054633998)

[Mr.HoTwo](https://juejin.cn/user/976022054633998)

7æœˆå‰

å†²é¸­~~

ç‚¹èµ

å›å¤

[![æŸ è‡´çš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/user-avatar/47df97aeda8c0e1c927e32a5f62ae1a8~300x300.image)](https://juejin.cn/user/1503787640168696)

[æŸ è‡´](https://juejin.cn/user/1503787640168696)

å‰ç«¯ @ å¹¿ä¸œå·¥ä¸šå¤§å­¦7æœˆå‰

1ã€åˆ¤å®šæ˜¯å¦æ˜¯äºŒå‰å¹³è¡¡æ ‘ï¼ˆä»»æ„ç»“ç‚¹==ã€‹é€’å½’===ã€‹é€’å½’è¾¹ç•Œã€é€’å½’å¼ã€å›æº¯ï¼‰ 2ã€ä½¿äºŒå‰æœç´¢æ ‘å¹³è¡¡ï¼ˆä¸­åºéå†å¾—åˆ°æœ‰åºæ•°ç»„ ===ã€‹ ä¸æ–­æå–ä¸­é—´å…ƒç´ ==ã€‹é€’å½’ã€é€’å½’è¾¹ç•Œã€é€’å½’å¼ã€å›æº¯ï¼‰

ç‚¹èµ

å›å¤

[![Wneilçš„å¤´åƒ](https://p9-passport.byteacctimg.com/img/mosaic-legacy/3792/5112637127~300x300.image)](https://juejin.cn/user/1169536100344702)

[Wneil](https://juejin.cn/user/1169536100344702)

9æœˆå‰

äºŒå‰æœç´¢æ ‘æ˜¯äºŒå‰æ ‘çš„ç‰¹ä¾‹ï¼Œå¹³è¡¡äºŒå‰æ ‘åˆ™æ˜¯äºŒå‰æœç´¢æ ‘çš„ç‰¹ä¾‹ã€‚å¹³è¡¡äºŒå‰æ ‘æ˜¯ä»»æ„ç»“ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ç»å¯¹å€¼éƒ½ä¸å¤§äº1çš„äºŒå‰æœç´¢æ ‘ã€‚

ç‚¹èµ

å›å¤

[![é¢œé…±çš„å¤´åƒ](https://p26-passport.byteacctimg.com/img/user-avatar/7c779aa6d4489d5e903599003eb3c077~300x300.image)](https://juejin.cn/user/905653309941495)

[é¢œé…±![lv-3](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e108c685147dfe1fb03d4a37257fb417.svg)](https://juejin.cn/user/905653309941495)

å‰ç«¯é…± @ frontzhm@163.com10æœˆå‰

æœ€åä¸€é¢˜ç»ˆäºè‡ªå·±å‡‘å‡ºæ¥äº†![ğŸ˜‚](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/asset/twemoji/2.6.0/svg/1f602.svg~tplv-t2oaga2asx-image.image)

ç‚¹èµ

å›å¤

[![é¢œé…±çš„å¤´åƒ](https://p26-passport.byteacctimg.com/img/user-avatar/7c779aa6d4489d5e903599003eb3c077~300x300.image)](https://juejin.cn/user/905653309941495)

[é¢œé…±![lv-3](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e108c685147dfe1fb03d4a37257fb417.svg)](https://juejin.cn/user/905653309941495)

å‰ç«¯é…± @ frontzhm@163.com10æœˆå‰

ä¸çŸ¥é“çš„è¿˜ä»¥ä¸ºæˆ‘åœ¨çœ‹ä»€ä¹ˆä¸æ­£ç»çš„æ–‡ï¼Œä¸ºæ¯›çœ‹è¿™ä¹ˆä¸¥è‚ƒçš„è¯é¢˜ï¼Œæ—¶ä¸æ—¶å˜´è§’å¾®å¾®ä¸Šæ‰¬ï¼Œæ—¶ä¸æ—¶æ‚å˜´æ©é¢

ç‚¹èµ

2

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/1468603264932168)

[Miemie](https://juejin.cn/user/1468603264932168)

10æœˆå‰

ä½ å¤ªçœŸå®äº†å“ˆå“ˆå“ˆå“ˆå“ˆ

1

å›å¤

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3263773009523255)

[å’©å™—](https://juejin.cn/user/3263773009523255)

5æœˆå‰

æœ‰ç”»é¢äº†![[å¥¸ç¬‘]](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/img/jj_emoji_17.bcebf79.png)

ç‚¹èµ

å›å¤

[![Now-take-offçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2550475608555703)

[Now-take-off![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/2550475608555703)

å‰ç«¯å“²å­¦å®¶1å¹´å‰

ç§€å¦ï¼šæ˜¯é€’å½’ï¼Œæˆ‘åŠ äº†é€’å½’ã€‚

ç‚¹èµ

å›å¤

[![å°å­ç‹çš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/user-avatar/c5843bb521577f6a735559de23ec4ac8~300x300.image)](https://juejin.cn/user/2330620379534904)

[å°å­ç‹![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/2330620379534904)

å‰ç«¯ @ å¹¿å·1å¹´å‰

èˆ’æœäº†

1

å›å¤

[![å¿è½çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2392135676732376)

[å¿è½](https://juejin.cn/user/2392135676732376)

å‰ç«¯ @ ç´¢è´1å¹´å‰

å¥½æ´»

ç‚¹èµ

å›å¤

[![æ•´åªç¾Šçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/4230576475209821)

[æ•´åªç¾Š![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/4230576475209821)

å‰ç«¯æ‘¸é±¼å·¥ç¨‹å¸ˆ @ é²¸çµ1å¹´å‰

ä¿®è¨€ï¼šåˆæ˜¯ä¸€é“é€åˆ†é¢˜å•Šï¼ŒåŒå­¦ä»¬ï¼

1

1

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/360295544404942)

[å…¨æ‘å¸Œæœ›](https://juejin.cn/user/360295544404942)

1å¹´å‰

è€å¸ˆï¼Œæˆ‘å­¦åºŸäº†~

ç‚¹èµ

å›å¤

[![zfçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2717648476709063)

[zf![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/2717648476709063)

å‰ç«¯å¼€å‘ @ æ»´æ»´1å¹´å‰

åœ¨åˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ä¸­ return Math.max(left, right) + 1 è¿™æ®µä»£ç æ²¡æœ‰ç†è§£ï¼Œå“ªä½æœ‹å‹å¯ä»¥å¸®æˆ‘ä¸€ä¸‹

ç‚¹èµ

2

[![img](https://p3-passport.byteacctimg.com/img/mosaic-legacy/3791/5035712059~300x300.image)](https://juejin.cn/user/1820446983723080)

[dhu_pyl](https://juejin.cn/user/1820446983723080)

1å¹´å‰

å› ä¸ºé€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯root==nullï¼Œè¿”å›å€¼æ˜¯0ï¼Œè€Œé€’å½’çš„èµ·å§‹æ¡ä»¶æ˜¯æŠŠrootæ”¾è¿›å»ï¼Œæ‰€ä»¥é€’å½’å‡ºæ¥çš„é•¿åº¦ï¼ŒrootèŠ‚ç‚¹æœ¬èº«æ²¡ç®—ï¼Œæ‰€ä»¥è¦+1ã€‚

ç‚¹èµ

å›å¤

[![img](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/400d8d24b31e4938a8e3a1311b2bd8dc~tplv-k3u1fbpfcp-no-mark:100:100:100:100.awebp?)](https://juejin.cn/user/2928754707411629)

[Wailen![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/2928754707411629)

å›å¤

[dhu_pyl](https://juejin.cn/user/1820446983723080)

2æœˆå‰

ä¸€æ£µæ ‘çš„é«˜åº¦å°±æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­ç»“ç‚¹çš„å±‚çº§ï¼Œæ‰€ä»¥è¿™é‡Œæ‰¾å­æ ‘çš„é«˜åº¦æ—¶åªéœ€è¦åˆ¤æ–­å·¦å³å­æ ‘è°æ›´å±‚çº§æ›´å¤§è°å°±æ˜¯å½“å‰å­æ ‘çš„é«˜åº¦

â€œ

å› ä¸ºé€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯root==nullï¼Œè¿”å›å€¼æ˜¯0ï¼Œè€Œé€’å½’çš„èµ·å§‹æ¡ä»¶æ˜¯æŠŠrootæ”¾è¿›å»ï¼Œæ‰€ä»¥é€’å½’å‡ºæ¥çš„é•¿åº¦ï¼ŒrootèŠ‚ç‚¹æœ¬èº«æ²¡ç®—ï¼Œæ‰€ä»¥è¦+1ã€‚

â€

ç‚¹èµ

å›å¤

[![l_myçš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/mirror-assets/16dc870463ca4b50927~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/1679709499294888)

[l_my](https://juejin.cn/user/1679709499294888)

1å¹´å‰

ä¸ºä»€ä¹ˆä½ èƒ½å‘è¯­éŸ³

ç‚¹èµ

å›å¤

[![riddl3_3çš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/8/1732eae50dd49cbb~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/3394881534046237)

[riddl3_3](https://juejin.cn/user/3394881534046237)

å‰ç«¯å±Šçš„å°å­¦ç”Ÿ @ çŒªå¤´é…’å§1å¹´å‰

æ…·æ…¨æ¿€æ˜‚~è€å“¥

ç‚¹èµ

å›å¤

[![çŒ«åä¸€çš„å¤´åƒ](https://p9-passport.byteacctimg.com/img/user-avatar/cc3e8435d869525e1d1538f1d7c1a5c4~300x300.image)](https://juejin.cn/user/3790771824896574)

[çŒ«åä¸€![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/3790771824896574)

cvå·¥ç¨‹å¸ˆ1å¹´å‰

ä½ çš„â€œé€’å½’â€æ˜¯è¯­éŸ³~

ç‚¹èµ

1

[![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/10/10/1665bdd57017568a~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/2400989094885495)

[ä¿®è¨€](https://juejin.cn/user/2400989094885495)

ï¼ˆä½œè€…ï¼‰1å¹´å‰

å“ˆå“ˆå“ˆå“ˆå“ˆæ˜¯ä¸æ˜¯éœ‡åˆ°ä½ æ‰‹æœºäº†~~~

ç‚¹èµ

å›å¤

[![jcå°é‡‘é‡‘çš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/10/18/c1fb11c66d0b7b9d167b32bdbd5572a9~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/2893570332697645)

[jcå°é‡‘é‡‘](https://juejin.cn/user/2893570332697645)

å‰ç«¯å·¥ç¨‹å¸ˆ1å¹´å‰

tmd é‡å¤å•Šï¼å“ˆå“ˆå“ˆ æˆ‘ç¬‘äº†ï¼

1

1

[![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/10/10/1665bdd57017568a~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/2400989094885495)

[ä¿®è¨€](https://juejin.cn/user/2400989094885495)

ï¼ˆä½œè€…ï¼‰1å¹´å‰

ç¾~(@^_^@)~

1

å›å¤

[![æ¸…è¾°åŒå­¦çš„å¤´åƒ](https://p9-passport.byteacctimg.com/img/user-avatar/878f4d0f07644f5685cce6a52f1dbaf7~300x300.image)](https://juejin.cn/user/4406498336965054)

[æ¸…è¾°åŒå­¦![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/4406498336965054)

å‰ç«¯å·¥ç¨‹å¸ˆ @ Baidu Intern1å¹´å‰

æ–‡ç« ä¸­çš„é“¾å¼æœç´¢æ ‘ï¼Œæ˜¯åªæœ‰å·¦å­æ ‘ï¼Œæ²¡æœ‰å³å­æ ‘çš„

1

1

[![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/10/10/1665bdd57017568a~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/2400989094885495)

[ä¿®è¨€](https://juejin.cn/user/2400989094885495)

ï¼ˆä½œè€…ï¼‰1å¹´å‰

æ˜¯æ»´~~~

ç‚¹èµ

å›å¤

[![èµ°è¿›ç§‘å­¦çˆ±å­¦ä¹ çš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/mirror-assets/168e085a05365b84f86~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/3245414054901735)

[èµ°è¿›ç§‘å­¦çˆ±å­¦ä¹ ](https://juejin.cn/user/3245414054901735)

1å¹´å‰

è¿™ä¸ªbalanceBST()ä¸€æ—¦æ ‘ä¸å¹³è¡¡æ•´ä¸ªæ ‘å…¨éƒ¨ç”Ÿæˆä¸€éä¼šä¸ä¼šå¼€é”€æœ‰ç‚¹å¤§.