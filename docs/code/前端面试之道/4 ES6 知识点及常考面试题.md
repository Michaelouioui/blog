# ES6 çŸ¥è¯†ç‚¹åŠå¸¸è€ƒé¢è¯•é¢˜

æœ¬ç« èŠ‚æˆ‘ä»¬å°†æ¥å­¦ä¹  ES6 éƒ¨åˆ†çš„å†…å®¹ã€‚

## varã€let åŠ const åŒºåˆ«

```!
æ¶‰åŠé¢è¯•é¢˜ï¼šä»€ä¹ˆæ˜¯æå‡ï¼Ÿä»€ä¹ˆæ˜¯æš‚æ—¶æ€§æ­»åŒºï¼Ÿvarã€let åŠ const åŒºåˆ«ï¼Ÿ
```

å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆæ¥äº†è§£æå‡ï¼ˆhoistingï¼‰è¿™ä¸ªæ¦‚å¿µã€‚

```js
console.log(a) // undefined
var a = 1
```

ä»ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè™½ç„¶å˜é‡è¿˜æ²¡æœ‰è¢«å£°æ˜ï¼Œä½†æ˜¯æˆ‘ä»¬å´å¯ä»¥ä½¿ç”¨è¿™ä¸ªæœªè¢«å£°æ˜çš„å˜é‡ï¼Œè¿™ç§æƒ…å†µå°±å«åšæå‡ï¼Œå¹¶ä¸”æå‡çš„æ˜¯å£°æ˜ã€‚

å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä»£ç è¿™æ ·æ¥çœ‹

```js
var a
console.log(a) // undefined
a = 1
```

æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­

```js
var a = 10
var a
console.log(a)
```

å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œå¦‚æœä½ è®¤ä¸ºæ‰“å°çš„å€¼ä¸º `undefined` é‚£ä¹ˆå°±é”™äº†ï¼Œç­”æ¡ˆåº”è¯¥æ˜¯ `10`ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬è¿™æ ·æ¥çœ‹ä»£ç 

```js
var a
var a
a = 10
console.log(a)
```

åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº† `var` å£°æ˜çš„å˜é‡ä¼šå‘ç”Ÿæå‡çš„æƒ…å†µï¼Œå…¶å®ä¸ä»…å˜é‡ä¼šæå‡å‡½æ•°ä¹Ÿä¼šè¢«æå‡ã€‚

```js
console.log(a) // Æ’ a() {}
function a() {}
var a = 1
```

å¯¹äºä¸Šè¿°ä»£ç ï¼Œæ‰“å°ç»“æœä¼šæ˜¯ `Æ’ a() {}`ï¼Œå³ä½¿å˜é‡å£°æ˜åœ¨å‡½æ•°ä¹‹åï¼Œè¿™ä¹Ÿè¯´æ˜äº†å‡½æ•°ä¼šè¢«æå‡ï¼Œå¹¶ä¸”ä¼˜å…ˆäºå˜é‡æå‡ã€‚

è¯´å®Œäº†è¿™äº›ï¼Œæƒ³å¿…å¤§å®¶ä¹ŸçŸ¥é“ `var` å­˜åœ¨çš„é—®é¢˜äº†ï¼Œä½¿ç”¨ `var` å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹ `let` å’Œ `const` ã€‚

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š

```js
var a = 1
let b = 1
const c = 1
console.log(window.b) // undefined
console.log(window. c) // undefined

function test(){
  console.log(a)
  let a
}
test()
```

é¦–å…ˆåœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ä½¿ç”¨ `let` å’Œ `const` å£°æ˜å˜é‡ï¼Œå˜é‡å¹¶ä¸ä¼šè¢«æŒ‚è½½åˆ° `window` ä¸Šï¼Œè¿™ä¸€ç‚¹å°±å’Œ `var` å£°æ˜æœ‰äº†åŒºåˆ«ã€‚

å†è€…å½“æˆ‘ä»¬åœ¨å£°æ˜ `a` ä¹‹å‰å¦‚æœä½¿ç”¨äº† `a`ï¼Œå°±ä¼šå‡ºç°æŠ¥é”™çš„æƒ…å†µ

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/055a1c2d23c24cdbaa45308f4ac55c30~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp)

ä½ å¯èƒ½ä¼šè®¤ä¸ºè¿™é‡Œä¹Ÿå‡ºç°äº†æå‡çš„æƒ…å†µï¼Œä½†æ˜¯å› ä¸ºæŸäº›åŸå› å¯¼è‡´ä¸èƒ½è®¿é—®ã€‚

é¦–å…ˆæŠ¥é”™çš„åŸå› æ˜¯å› ä¸ºå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨å£°æ˜å‰å°±ä½¿ç”¨å˜é‡ï¼Œè¿™ä¹Ÿæ˜¯ `let` å’Œ `const` ä¼˜äº `var` çš„ä¸€ç‚¹ã€‚ç„¶åè¿™é‡Œä½ è®¤ä¸ºçš„æå‡å’Œ `var` çš„æå‡æ˜¯æœ‰åŒºåˆ«çš„ï¼Œè™½ç„¶å˜é‡åœ¨ç¼–è¯‘çš„ç¯èŠ‚ä¸­è¢«å‘ŠçŸ¥åœ¨è¿™å—ä½œç”¨åŸŸä¸­å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯è®¿é—®æ˜¯å—é™åˆ¶çš„ã€‚

é‚£ä¹ˆåˆ°è¿™é‡Œï¼Œæƒ³å¿…å¤§å®¶ä¹Ÿéƒ½æ˜ç™½ `var`ã€`let` åŠ `const` åŒºåˆ«äº†ï¼Œä¸çŸ¥é“ä½ æ˜¯å¦ä¼šæœ‰è¿™ä¹ˆä¸€ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆè¦å­˜åœ¨æå‡è¿™ä¸ªäº‹æƒ…å‘¢ï¼Œå…¶å®æå‡å­˜åœ¨çš„æ ¹æœ¬åŸå› å°±æ˜¯ä¸ºäº†è§£å†³å‡½æ•°é—´äº’ç›¸è°ƒç”¨çš„æƒ…å†µ

```js
function test1() {
    test2()
}
function test2() {
    test1()
}
test1()
```

å‡å¦‚ä¸å­˜åœ¨æå‡è¿™ä¸ªæƒ…å†µï¼Œé‚£ä¹ˆå°±å®ç°ä¸äº†ä¸Šè¿°çš„ä»£ç ï¼Œå› ä¸ºä¸å¯èƒ½å­˜åœ¨ `test1` åœ¨ `test2` å‰é¢ç„¶å `test2` åˆåœ¨ `test1` å‰é¢ã€‚

é‚£ä¹ˆæœ€åæˆ‘ä»¬æ€»ç»“ä¸‹è¿™å°èŠ‚çš„å†…å®¹ï¼š

- å‡½æ•°æå‡ä¼˜å…ˆäºå˜é‡æå‡ï¼Œå‡½æ•°æå‡ä¼šæŠŠæ•´ä¸ªå‡½æ•°æŒªåˆ°ä½œç”¨åŸŸé¡¶éƒ¨ï¼Œå˜é‡æå‡åªä¼šæŠŠå£°æ˜æŒªåˆ°ä½œç”¨åŸŸé¡¶éƒ¨
- `var` å­˜åœ¨æå‡ï¼Œæˆ‘ä»¬èƒ½åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ã€‚`let`ã€`const` å› ä¸ºæš‚æ—¶æ€§æ­»åŒºçš„åŸå› ï¼Œä¸èƒ½åœ¨å£°æ˜å‰ä½¿ç”¨
- `var` åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹å£°æ˜å˜é‡ä¼šå¯¼è‡´å˜é‡æŒ‚è½½åœ¨ `window` ä¸Šï¼Œå…¶ä»–ä¸¤è€…ä¸ä¼š
- `let` å’Œ `const` ä½œç”¨åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯åè€…å£°æ˜çš„å˜é‡ä¸èƒ½å†æ¬¡èµ‹å€¼

## åŸå‹ç»§æ‰¿å’Œ Class ç»§æ‰¿

```!
æ¶‰åŠé¢è¯•é¢˜ï¼šåŸå‹å¦‚ä½•å®ç°ç»§æ‰¿ï¼ŸClass å¦‚ä½•å®ç°ç»§æ‰¿ï¼ŸClass æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ
```

é¦–å…ˆå…ˆæ¥è®²ä¸‹ `class`ï¼Œå…¶å®åœ¨ JS ä¸­å¹¶ä¸å­˜åœ¨ç±»ï¼Œ`class` åªæ˜¯è¯­æ³•ç³–ï¼Œæœ¬è´¨è¿˜æ˜¯å‡½æ•°ã€‚

```js
class Person {}
Person instanceof Function // true
```

åœ¨ä¸Šä¸€ç« èŠ‚ä¸­æˆ‘ä»¬è®²è§£äº†åŸå‹çš„çŸ¥è¯†ç‚¹ï¼Œåœ¨è¿™ä¸€å°èŠ‚ä¸­æˆ‘ä»¬å°†ä¼šåˆ†åˆ«ä½¿ç”¨åŸå‹å’Œ `class` çš„æ–¹å¼æ¥å®ç°ç»§æ‰¿ã€‚

### ç»„åˆç»§æ‰¿

ç»„åˆç»§æ‰¿æ˜¯æœ€å¸¸ç”¨çš„ç»§æ‰¿æ–¹å¼ï¼Œ

```js
function Parent(value) {
  this.val = value
}
Parent.prototype.getValue = function() {
  console.log(this.val)
}
function Child(value) {
  Parent.call(this, value)
}
Child.prototype = new Parent()

const child = new Child(1)

child.getValue() // 1
child instanceof Parent // true
```

ä»¥ä¸Šç»§æ‰¿çš„æ–¹å¼æ ¸å¿ƒæ˜¯åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­é€šè¿‡ `Parent.call(this)` ç»§æ‰¿çˆ¶ç±»çš„å±æ€§ï¼Œç„¶åæ”¹å˜å­ç±»çš„åŸå‹ä¸º `new Parent()` æ¥ç»§æ‰¿çˆ¶ç±»çš„å‡½æ•°ã€‚

è¿™ç§ç»§æ‰¿æ–¹å¼ä¼˜ç‚¹åœ¨äºæ„é€ å‡½æ•°å¯ä»¥ä¼ å‚ï¼Œä¸ä¼šä¸çˆ¶ç±»å¼•ç”¨å±æ€§å…±äº«ï¼Œå¯ä»¥å¤ç”¨çˆ¶ç±»çš„å‡½æ•°ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯åœ¨ç»§æ‰¿çˆ¶ç±»å‡½æ•°çš„æ—¶å€™è°ƒç”¨äº†çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå¯¼è‡´å­ç±»çš„åŸå‹ä¸Šå¤šäº†ä¸éœ€è¦çš„çˆ¶ç±»å±æ€§ï¼Œå­˜åœ¨å†…å­˜ä¸Šçš„æµªè´¹ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/31d2239e7e374239afdedee4ee79289a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp)

### å¯„ç”Ÿç»„åˆç»§æ‰¿

è¿™ç§ç»§æ‰¿æ–¹å¼å¯¹ç»„åˆç»§æ‰¿è¿›è¡Œäº†ä¼˜åŒ–ï¼Œç»„åˆç»§æ‰¿ç¼ºç‚¹åœ¨äºç»§æ‰¿çˆ¶ç±»å‡½æ•°æ—¶è°ƒç”¨äº†æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦ä¼˜åŒ–æ‰è¿™ç‚¹å°±è¡Œäº†ã€‚

```js
function Parent(value) {
  this.val = value
}
Parent.prototype.getValue = function() {
  console.log(this.val)
}

function Child(value) {
  Parent.call(this, value)
}
Child.prototype = Object.create(Parent.prototype, {
  constructor: {
    value: Child,
    enumerable: false,
    writable: true,
    configurable: true
  }
})

const child = new Child(1)

child.getValue() // 1
child instanceof Parent // true
```

ä»¥ä¸Šç»§æ‰¿å®ç°çš„æ ¸å¿ƒå°±æ˜¯å°†çˆ¶ç±»çš„åŸå‹èµ‹å€¼ç»™äº†å­ç±»ï¼Œå¹¶ä¸”å°†æ„é€ å‡½æ•°è®¾ç½®ä¸ºå­ç±»ï¼Œè¿™æ ·æ—¢è§£å†³äº†æ— ç”¨çš„çˆ¶ç±»å±æ€§é—®é¢˜ï¼Œè¿˜èƒ½æ­£ç¡®çš„æ‰¾åˆ°å­ç±»çš„æ„é€ å‡½æ•°ã€‚

![img](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8dbe8a77119e4c03b56f8044c5ca10c5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp)

### Class ç»§æ‰¿

ä»¥ä¸Šä¸¤ç§ç»§æ‰¿æ–¹å¼éƒ½æ˜¯é€šè¿‡åŸå‹å»è§£å†³çš„ï¼Œåœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `class` å»å®ç°ç»§æ‰¿ï¼Œå¹¶ä¸”å®ç°èµ·æ¥å¾ˆç®€å•

```js
class Parent {
  constructor(value) {
    this.val = value
  }
  getValue() {
    console.log(this.val)
  }
}
class Child extends Parent {
  constructor(value) {
    super(value)
  }
}
let child = new Child(1)
child.getValue() // 1
child instanceof Parent // true
```

`class` å®ç°ç»§æ‰¿çš„æ ¸å¿ƒåœ¨äºä½¿ç”¨ `extends` è¡¨æ˜ç»§æ‰¿è‡ªå“ªä¸ªçˆ¶ç±»ï¼Œå¹¶ä¸”åœ¨å­ç±»æ„é€ å‡½æ•°ä¸­å¿…é¡»è°ƒç”¨ `super`ï¼Œå› ä¸ºè¿™æ®µä»£ç å¯ä»¥çœ‹æˆ `Parent.call(this, value)`ã€‚

å½“ç„¶äº†ï¼Œä¹‹å‰ä¹Ÿè¯´äº†åœ¨ JS ä¸­å¹¶ä¸å­˜åœ¨ç±»ï¼Œ`class` çš„æœ¬è´¨å°±æ˜¯å‡½æ•°ã€‚

## æ¨¡å—åŒ–

```!
æ¶‰åŠé¢è¯•é¢˜ï¼šä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¨¡å—åŒ–ï¼Ÿéƒ½æœ‰å“ªå‡ ç§æ–¹å¼å¯ä»¥å®ç°æ¨¡å—åŒ–ï¼Œå„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ
```

ä½¿ç”¨ä¸€ä¸ªæŠ€æœ¯è‚¯å®šæ˜¯æœ‰åŸå› çš„ï¼Œé‚£ä¹ˆä½¿ç”¨æ¨¡å—åŒ–å¯ä»¥ç»™æˆ‘ä»¬å¸¦æ¥ä»¥ä¸‹å¥½å¤„

- è§£å†³å‘½åå†²çª
- æä¾›å¤ç”¨æ€§
- æé«˜ä»£ç å¯ç»´æŠ¤æ€§

### ç«‹å³æ‰§è¡Œå‡½æ•°

åœ¨æ—©æœŸï¼Œä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å®ç°æ¨¡å—åŒ–æ˜¯å¸¸è§çš„æ‰‹æ®µï¼Œé€šè¿‡å‡½æ•°ä½œç”¨åŸŸè§£å†³äº†å‘½åå†²çªã€æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸçš„é—®é¢˜

```js
(function(globalVariable){
   globalVariable.test = function() {}
   // ... å£°æ˜å„ç§å˜é‡ã€å‡½æ•°éƒ½ä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸ
})(globalVariable)
```

### AMD å’Œ CMD

é‰´äºç›®å‰è¿™ä¸¤ç§å®ç°æ–¹å¼å·²ç»å¾ˆå°‘è§åˆ°ï¼Œæ‰€ä»¥ä¸å†å¯¹å…·ä½“ç‰¹æ€§ç»†èŠï¼Œåªéœ€è¦äº†è§£è¿™ä¸¤è€…æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚

```js
// AMD
define(['./a', './b'], function(a, b) {
  // åŠ è½½æ¨¡å—å®Œæ¯•å¯ä»¥ä½¿ç”¨
  a.do()
  b.do()
})
// CMD
define(function(require, exports, module) {
  // åŠ è½½æ¨¡å—
  // å¯ä»¥æŠŠ require å†™åœ¨å‡½æ•°ä½“çš„ä»»æ„åœ°æ–¹å®ç°å»¶è¿ŸåŠ è½½
  var a = require('./a')
  a.doSomething()
})
```

### CommonJS

CommonJS æœ€æ—©æ˜¯ Node åœ¨ä½¿ç”¨ï¼Œç›®å‰ä¹Ÿä»ç„¶å¹¿æ³›ä½¿ç”¨ï¼Œæ¯”å¦‚åœ¨ Webpack ä¸­ä½ å°±èƒ½è§åˆ°å®ƒï¼Œå½“ç„¶ç›®å‰åœ¨ Node ä¸­çš„æ¨¡å—ç®¡ç†å·²ç»å’Œ CommonJS æœ‰ä¸€äº›åŒºåˆ«äº†ã€‚

```js
// a.js
module.exports = {
    a: 1
}
// or 
exports.a = 1

// b.js
var module = require('./a.js')
module.a // -> log 1
```

å› ä¸º CommonJS è¿˜æ˜¯ä¼šä½¿ç”¨åˆ°çš„ï¼Œæ‰€ä»¥è¿™é‡Œä¼šå¯¹ä¸€äº›ç–‘éš¾ç‚¹è¿›è¡Œè§£æ

å…ˆè¯´ `require` å§

```js
var module = require('./a.js')
module.a 
// è¿™é‡Œå…¶å®å°±æ˜¯åŒ…è£…äº†ä¸€å±‚ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œè¿™æ ·å°±ä¸ä¼šæ±¡æŸ“å…¨å±€å˜é‡äº†ï¼Œ
// é‡è¦çš„æ˜¯ module è¿™é‡Œï¼Œmodule æ˜¯ Node ç‹¬æœ‰çš„ä¸€ä¸ªå˜é‡
module.exports = {
    a: 1
}
// module åŸºæœ¬å®ç°
var module = {
  id: 'xxxx', // æˆ‘æ€»å¾—çŸ¥é“æ€ä¹ˆå»æ‰¾åˆ°ä»–å§
  exports: {} // exports å°±æ˜¯ä¸ªç©ºå¯¹è±¡
}
// è¿™ä¸ªæ˜¯ä¸ºä»€ä¹ˆ exports å’Œ module.exports ç”¨æ³•ç›¸ä¼¼çš„åŸå› 
var exports = module.exports 
var load = function (module) {
    // å¯¼å‡ºçš„ä¸œè¥¿
    var a = 1
    module.exports = a
    return module.exports
};
// ç„¶åå½“æˆ‘ require çš„æ—¶å€™å»æ‰¾åˆ°ç‹¬ç‰¹çš„
// idï¼Œç„¶åå°†è¦ä½¿ç”¨çš„ä¸œè¥¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°åŒ…è£…ä¸‹ï¼Œover
```

å¦å¤–è™½ç„¶ `exports` å’Œ `module.exports` ç”¨æ³•ç›¸ä¼¼ï¼Œä½†æ˜¯ä¸èƒ½å¯¹ `exports` ç›´æ¥èµ‹å€¼ã€‚å› ä¸º `var exports = module.exports `è¿™å¥ä»£ç è¡¨æ˜äº† `exports` å’Œ `module.exports` äº«æœ‰ç›¸åŒåœ°å€ï¼Œé€šè¿‡æ”¹å˜å¯¹è±¡çš„å±æ€§å€¼ä¼šå¯¹ä¸¤è€…éƒ½èµ·æ•ˆï¼Œä½†æ˜¯å¦‚æœç›´æ¥å¯¹ `exports` èµ‹å€¼å°±ä¼šå¯¼è‡´ä¸¤è€…ä¸å†æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œä¿®æ”¹å¹¶ä¸ä¼šå¯¹ `module.exports` èµ·æ•ˆã€‚

### ES Module

ES Module æ˜¯åŸç”Ÿå®ç°çš„æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œä¸ CommonJS æœ‰ä»¥ä¸‹å‡ ä¸ªåŒºåˆ«

- CommonJS æ”¯æŒåŠ¨æ€å¯¼å…¥ï¼Œä¹Ÿå°±æ˜¯ `require(${path}/xx.js)`ï¼Œåè€…ç›®å‰ä¸æ”¯æŒï¼Œä½†æ˜¯å·²æœ‰ææ¡ˆ
- CommonJS æ˜¯åŒæ­¥å¯¼å…¥ï¼Œå› ä¸ºç”¨äºæœåŠ¡ç«¯ï¼Œæ–‡ä»¶éƒ½åœ¨æœ¬åœ°ï¼ŒåŒæ­¥å¯¼å…¥å³ä½¿å¡ä½ä¸»çº¿ç¨‹å½±å“ä¹Ÿä¸å¤§ã€‚è€Œåè€…æ˜¯å¼‚æ­¥å¯¼å…¥ï¼Œå› ä¸ºç”¨äºæµè§ˆå™¨ï¼Œéœ€è¦ä¸‹è½½æ–‡ä»¶ï¼Œå¦‚æœä¹Ÿé‡‡ç”¨åŒæ­¥å¯¼å…¥ä¼šå¯¹æ¸²æŸ“æœ‰å¾ˆå¤§å½±å“
- CommonJS åœ¨å¯¼å‡ºæ—¶éƒ½æ˜¯å€¼æ‹·è´ï¼Œå°±ç®—å¯¼å‡ºçš„å€¼å˜äº†ï¼Œå¯¼å…¥çš„å€¼ä¹Ÿä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥å¦‚æœæƒ³æ›´æ–°å€¼ï¼Œå¿…é¡»é‡æ–°å¯¼å…¥ä¸€æ¬¡ã€‚ä½†æ˜¯ ES Module é‡‡ç”¨å®æ—¶ç»‘å®šçš„æ–¹å¼ï¼Œå¯¼å…¥å¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¯¼å…¥å€¼ä¼šè·Ÿéšå¯¼å‡ºå€¼å˜åŒ–
- ES Module ä¼šç¼–è¯‘æˆ `require/exports` æ¥æ‰§è¡Œçš„

```js
// å¼•å…¥æ¨¡å— API
import XXX from './a.js'
import { XXX } from './a.js'
// å¯¼å‡ºæ¨¡å— API
export function a() {}
export default function() {}
```

## Proxy

```!
æ¶‰åŠé¢è¯•é¢˜ï¼šProxy å¯ä»¥å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ
```

å¦‚æœä½ å¹³æ—¶æœ‰å…³æ³¨ Vue çš„è¿›å±•çš„è¯ï¼Œå¯èƒ½å·²ç»çŸ¥é“äº†åœ¨ Vue3.0 ä¸­å°†ä¼šé€šè¿‡ `Proxy` æ¥æ›¿æ¢åŸæœ¬çš„ `Object.defineProperty` æ¥å®ç°æ•°æ®å“åº”å¼ã€‚ Proxy æ˜¯ ES6 ä¸­æ–°å¢çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥ç”¨æ¥è‡ªå®šä¹‰å¯¹è±¡ä¸­çš„æ“ä½œã€‚

```js
let p = new Proxy(target, handler)
```

`target` ä»£è¡¨éœ€è¦æ·»åŠ ä»£ç†çš„å¯¹è±¡ï¼Œ`handler` ç”¨æ¥è‡ªå®šä¹‰å¯¹è±¡ä¸­çš„æ“ä½œï¼Œæ¯”å¦‚å¯ä»¥ç”¨æ¥è‡ªå®šä¹‰ `set` æˆ–è€… `get` å‡½æ•°ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ `Proxy` æ¥å®ç°ä¸€ä¸ªæ•°æ®å“åº”å¼

```js
let onWatch = (obj, setBind, getLogger) => {
  let handler = {
    get(target, property, receiver) {
      getLogger(target, property)
      return Reflect.get(target, property, receiver)
    },
    set(target, property, value, receiver) {
      setBind(value, property)
      return Reflect.set(target, property, value)
    }
  }
  return new Proxy(obj, handler)
}

let obj = { a: 1 }
let p = onWatch(
  obj,
  (v, property) => {
    console.log(`ç›‘å¬åˆ°å±æ€§${property}æ”¹å˜ä¸º${v}`)
  },
  (target, property) => {
    console.log(`'${property}' = ${target[property]}`)
  }
)
p.a = 2 // ç›‘å¬åˆ°å±æ€§aæ”¹å˜
p.a // 'a' = 2
```

åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è‡ªå®šä¹‰ `set` å’Œ `get` å‡½æ•°çš„æ–¹å¼ï¼Œåœ¨åŸæœ¬çš„é€»è¾‘ä¸­æ’å…¥äº†æˆ‘ä»¬çš„å‡½æ•°é€»è¾‘ï¼Œå®ç°äº†åœ¨å¯¹å¯¹è±¡ä»»ä½•å±æ€§è¿›è¡Œè¯»å†™æ—¶å‘å‡ºé€šçŸ¥ã€‚

å½“ç„¶è¿™æ˜¯ç®€å•ç‰ˆçš„å“åº”å¼å®ç°ï¼Œå¦‚æœéœ€è¦å®ç°ä¸€ä¸ª Vue ä¸­çš„å“åº”å¼ï¼Œéœ€è¦æˆ‘ä»¬åœ¨ `get` ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨ `set` æ´¾å‘æ›´æ–°ï¼Œä¹‹æ‰€ä»¥ Vue3.0 è¦ä½¿ç”¨ `Proxy` æ›¿æ¢åŸæœ¬çš„ API åŸå› åœ¨äº `Proxy` æ— éœ€ä¸€å±‚å±‚é€’å½’ä¸ºæ¯ä¸ªå±æ€§æ·»åŠ ä»£ç†ï¼Œä¸€æ¬¡å³å¯å®Œæˆä»¥ä¸Šæ“ä½œï¼Œæ€§èƒ½ä¸Šæ›´å¥½ï¼Œå¹¶ä¸”åŸæœ¬çš„å®ç°æœ‰ä¸€äº›æ•°æ®æ›´æ–°ä¸èƒ½ç›‘å¬åˆ°ï¼Œä½†æ˜¯ `Proxy` å¯ä»¥å®Œç¾ç›‘å¬åˆ°ä»»ä½•æ–¹å¼çš„æ•°æ®æ”¹å˜ï¼Œå”¯ä¸€ç¼ºé™·å¯èƒ½å°±æ˜¯æµè§ˆå™¨çš„å…¼å®¹æ€§ä¸å¥½äº†ã€‚

```!
æ›´æ–°ï¼šè¯„è®ºä¸­æœ‰åŒå­¦å¯¹äº Proxy æ— éœ€ä¸€å±‚å±‚é€’å½’ä¸ºæ¯ä¸ªå±æ€§æ·»åŠ ä»£ç†æœ‰ç–‘é—®ï¼Œä»¥ä¸‹æ˜¯å®ç°ä»£ç ã€‚
get(target, property, receiver) {
    getLogger(target, property)
    // è¿™å¥åˆ¤æ–­ä»£ç æ˜¯æ–°å¢çš„
    if (typeof target[property] === 'object' && target[property] !== null) {
        return new Proxy(target[property], handler);
    } else {
        return Reflect.get(target, property);
    }
}
```

## map, filter, reduce

```!
æ¶‰åŠé¢è¯•é¢˜ï¼šmap, filter, reduce å„è‡ªæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ
```

`map` ä½œç”¨æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œéå†åŸæ•°ç»„ï¼Œå°†æ¯ä¸ªå…ƒç´ æ‹¿å‡ºæ¥åšä¸€äº›å˜æ¢ç„¶åæ”¾å…¥åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚

```js
[1, 2, 3].map(v => v + 1) // -> [2, 3, 4]
```

å¦å¤– `map` çš„å›è°ƒå‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å½“å‰ç´¢å¼•å…ƒç´ ï¼Œç´¢å¼•ï¼ŒåŸæ•°ç»„

```js
['1','2','3'].map(parseInt)
```

- ç¬¬ä¸€è½®éå† `parseInt('1', 0) -> 1`
- ç¬¬äºŒè½®éå† `parseInt('2', 1) -> NaN`
- ç¬¬ä¸‰è½®éå† `parseInt('3', 2) -> NaN`

`filter` çš„ä½œç”¨ä¹Ÿæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œåœ¨éå†æ•°ç»„çš„æ—¶å€™å°†è¿”å›å€¼ä¸º `true` çš„å…ƒç´ æ”¾å…¥æ–°æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªå‡½æ•°åˆ é™¤ä¸€äº›ä¸éœ€è¦çš„å…ƒç´ 

```js
let array = [1, 2, 4, 6]
let newArray = array.filter(item => item !== 6)
console.log(newArray) // [1, 2, 4]
```

å’Œ `map` ä¸€æ ·ï¼Œ`filter` çš„å›è°ƒå‡½æ•°ä¹Ÿæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç”¨å¤„ä¹Ÿç›¸åŒã€‚

æœ€åæˆ‘ä»¬æ¥è®²è§£ `reduce` è¿™å—çš„å†…å®¹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€éš¾ç†è§£çš„ä¸€å—å†…å®¹ã€‚`reduce` å¯ä»¥å°†æ•°ç»„ä¸­çš„å…ƒç´ é€šè¿‡å›è°ƒå‡½æ•°æœ€ç»ˆè½¬æ¢ä¸ºä¸€ä¸ªå€¼ã€‚

å¦‚æœæˆ‘ä»¬æƒ³å®ç°ä¸€ä¸ªåŠŸèƒ½å°†å‡½æ•°é‡Œçš„å…ƒç´ å…¨éƒ¨ç›¸åŠ å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œå¯èƒ½ä¼šè¿™æ ·å†™ä»£ç 

```js
const arr = [1, 2, 3]
let total = 0
for (let i = 0; i < arr.length; i++) {
  total += arr[i]
}
console.log(total) //6 
```

ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨ `reduce` çš„è¯å°±å¯ä»¥å°†éå†éƒ¨åˆ†çš„ä»£ç ä¼˜åŒ–ä¸ºä¸€è¡Œä»£ç 

```js
const arr = [1, 2, 3]
const sum = arr.reduce((acc, current) => acc + current, 0)
console.log(sum)
```

å¯¹äº `reduce` æ¥è¯´ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å›è°ƒå‡½æ•°å’Œåˆå§‹å€¼ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥åˆ†è§£ä¸Šè¿°ä»£ç ä¸­ `reduce` çš„è¿‡ç¨‹

- é¦–å…ˆåˆå§‹å€¼ä¸º `0`ï¼Œè¯¥å€¼ä¼šåœ¨æ‰§è¡Œç¬¬ä¸€æ¬¡å›è°ƒå‡½æ•°æ—¶ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥
- å›è°ƒå‡½æ•°æ¥å—å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºç´¯è®¡å€¼ã€å½“å‰å…ƒç´ ã€å½“å‰ç´¢å¼•ã€åŸæ•°ç»„ï¼Œåä¸‰è€…æƒ³å¿…å¤§å®¶éƒ½å¯ä»¥æ˜ç™½ä½œç”¨ï¼Œè¿™é‡Œç€é‡åˆ†æç¬¬ä¸€ä¸ªå‚æ•°
- åœ¨ä¸€æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ï¼Œå½“å‰å€¼å’Œåˆå§‹å€¼ç›¸åŠ å¾—å‡ºç»“æœ `1`ï¼Œè¯¥ç»“æœä¼šåœ¨ç¬¬äºŒæ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶å½“åšç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥
- æ‰€ä»¥åœ¨ç¬¬äºŒæ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ï¼Œç›¸åŠ çš„å€¼å°±åˆ†åˆ«æ˜¯ `1` å’Œ `2`ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¾ªç¯ç»“æŸåå¾—åˆ°ç»“æœ `6`

æƒ³å¿…é€šè¿‡ä»¥ä¸Šçš„è§£æå¤§å®¶åº”è¯¥æ˜ç™½ `reduce` æ˜¯å¦‚ä½•é€šè¿‡å›è°ƒå‡½æ•°å°†æ‰€æœ‰å…ƒç´ æœ€ç»ˆè½¬æ¢ä¸ºä¸€ä¸ªå€¼çš„ï¼Œå½“ç„¶ `reduce` è¿˜å¯ä»¥å®ç°å¾ˆå¤šåŠŸèƒ½ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±é€šè¿‡ `reduce` æ¥å®ç° `map` å‡½æ•°

```js
const arr = [1, 2, 3]
const mapArray = arr.map(value => value * 2)
const reduceArray = arr.reduce((acc, current) => {
  acc.push(current * 2)
  return acc
}, [])
console.log(mapArray, reduceArray) // [2, 4, 6]
```

å¦‚æœä½ å¯¹è¿™ä¸ªå®ç°è¿˜æœ‰å›°æƒ‘çš„è¯ï¼Œå¯ä»¥æ ¹æ®ä¸Šä¸€æ­¥çš„è§£ææ­¥éª¤æ¥åˆ†æè¿‡ç¨‹ã€‚

## å°ç»“

è¿™ä¸€ç« èŠ‚æˆ‘ä»¬äº†è§£äº†éƒ¨åˆ† ES6 å¸¸è€ƒçš„çŸ¥è¯†ç‚¹ï¼Œå…¶ä»–çš„ä¸€äº›å¼‚æ­¥å†…å®¹æˆ‘ä»¬ä¼šæ”¾åœ¨ä¸‹ä¸€ç« èŠ‚å»è®²ã€‚å¦‚æœå¤§å®¶å¯¹äºè¿™ä¸ªç« èŠ‚çš„å†…å®¹å­˜åœ¨ç–‘é—®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºä¸æˆ‘äº’åŠ¨ã€‚

ç•™è¨€

![img](https://p9-passport.byteacctimg.com/img/user-avatar/5e41ee1c076d80557fa78839ed4c71c7~300x300.image)

å‘è¡¨è¯„è®º

å…¨éƒ¨è¯„è®ºï¼ˆ165ï¼‰

[![Runnnçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2295436011122733)

[Runnn![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/2295436011122733)

é—®é¢˜ä¸å¤§ğŸ¤­ @ W1æœˆå‰

ç®—æ˜¯æŸ¥æ¼è¡¥ç¼ºï¼Œç„¶åè‡ªå·±å†å»å¾€æ·±äº†å­¦å§ã€‚å•å•é è¿™ä¸ªå°å†Œå­çš„çŸ¥è¯†ç‚¹æ˜¯è¿œè¿œä¸å¤Ÿçš„

ç‚¹èµ

å›å¤

[![ç´«è‹å­çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/880035665818382)

[ç´«è‹å­![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/880035665818382)

7æœˆå‰

å‡½æ•°æå‡ä¸æ˜¯ä½äºå˜é‡æå‡ï¼Ÿ

ç‚¹èµ

2

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/4476867079573245)

[æœä¹![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/4476867079573245)

3æœˆå‰

å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œåœ¨æœ€ä¸Šå±‚çš„ã€‚

ç‚¹èµ

å›å¤

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/4424090522496350)

[aloha![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/4424090522496350)

19å¤©å‰

å‡½æ•°æ˜¯æœ€ç‰›é€¼çš„

ç‚¹èµ

å›å¤

[![yp910108çš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/mosaic-legacy/3797/2889309425~300x300.image)](https://juejin.cn/user/3843548382233464)

[yp910108](https://juejin.cn/user/3843548382233464)

11æœˆå‰

ä½ å¥½ï¼Œæ¥¼ä¸»ã€‚
get(target, property, receiver) {
 getLogger(target, property)
 // è¿™å¥åˆ¤æ–­ä»£ç æ˜¯æ–°å¢çš„
 if (typeof target[property] === 'object' && target[property] !== null) {
 return new Proxy(target[property], handler);
 } else {
 return Reflect.get(target, property);
 }
}
ä¸Šé¢è¿™æ®µä»£ç ä¸ä¹Ÿæ˜¯é€’å½’æ·»åŠ  proxy å—ï¼Œä¸ºå•¥è¯´â€æ— éœ€ä¸€å±‚å±‚é€’å½’ä¸ºæ¯ä¸ªå±æ€§æ·»åŠ ä»£ç†â€œï¼Œå°ç™½ä¸æ‡‚ï¼Œæ±‚è§£ç­”![ğŸ™](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/asset/twemoji/2.6.0/svg/1f64f.svg~tplv-t2oaga2asx-image.image)

å±•å¼€

ç‚¹èµ

1

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3861140568540952)

[æ¸…æœˆäº†æ— ç—•![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/3861140568540952)

10æœˆå‰

åº”è¯¥æ˜¯æ— éœ€ç¬¬ä¸€æ¬¡å°±é€’å½’æ‰€æœ‰å±æ€§ï¼Œåªæœ‰è®¿é—®çš„æ—¶å€™ï¼Œå†è¿›è¡Œä»£ç†

ç‚¹èµ

å›å¤

[![ä¸äºŒå­çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3175045312559277)

[ä¸äºŒå­](https://juejin.cn/user/3175045312559277)

1å¹´å‰

let b ç„¶åwindow.bé‚£ä¸ªè¾“å‡ºæ˜æ˜æ˜¯æŠ¥é”™å•Š

ç‚¹èµ

3

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/166781498426813)

[é‡è›®çš„æ©˜å­åŒå­¦](https://juejin.cn/user/166781498426813)

1å¹´å‰

ä½ ç¡®å®šå—

![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)

ç‚¹èµ

å›å¤

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2506542244707864)

[tuomasi](https://juejin.cn/user/2506542244707864)

å›å¤

[é‡è›®çš„æ©˜å­åŒå­¦](https://juejin.cn/user/166781498426813)

1å¹´å‰

![ğŸ˜‚](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/asset/twemoji/2.6.0/svg/1f602.svg~tplv-t2oaga2asx-image.image) è¿™æ˜¯ä¸æ˜¯æœ‰ç‚¹å°¬

â€œ

ä½ ç¡®å®šå—

â€

ç‚¹èµ

å›å¤

æŸ¥çœ‹æ›´å¤šå›å¤

[![ç±³å‹’é…±çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/395479916224536)

[ç±³å‹’é…±![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/395479916224536)

å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ1å¹´å‰

å†™çš„å¯çœŸåƒåœ¾ï¼

9

å›å¤

[![ä½ è‹¥åƒé£çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2277843823766967)

[ä½ è‹¥åƒé£![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/2277843823766967)

å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ1å¹´å‰

èµï¼Œæ€»ç»“å¾—ä¸é”™ã€‚

ç‚¹èµ

å›å¤

[![ä½ è‹¥åƒé£çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2277843823766967)

[ä½ è‹¥åƒé£![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/2277843823766967)

å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ1å¹´å‰

// è¿™å¥åˆ¤æ–­ä»£ç æ˜¯æ–°å¢çš„
 if (typeof target[property] === 'object' && target[property] !== null) {
 return new Proxy(target[property], handler);
 } 
å¯¹äºå¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œæ˜¯ç»™æ¯ä¸ªå±æ€§åˆ›å»ºä¸€ä¸ªProxyå®ä¾‹ä¹ˆï¼Œæ¯”å¦‚æ•°ç»„ï¼Œ[1, 2, 3]å°±æ˜¯åˆ†åˆ«ç»™æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½åˆ›å»ºä¸€ä¸ªProxyå®ä¾‹ä¹ˆï¼Ÿ

ç‚¹èµ

2

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2277843823766967)

[ä½ è‹¥åƒé£![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/2277843823766967)

1å¹´å‰

å“¦ è¯´é”™äº†ï¼Œåº”è¯¥æ˜¯å¯¹äºè¿™ç§ var obj = { a: 1, b: { c: 2 } }; typeof c === 'object'ï¼Œä¼šå†åˆ›å»ºä¸€ä¸ªProxyå®ä¾‹ä¹ˆï¼Ÿ

ç‚¹èµ

å›å¤

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2823201591670279)

[å¹²ç…¸åœŸè±†](https://juejin.cn/user/2823201591670279)

å›å¤

[ä½ è‹¥åƒé£](https://juejin.cn/user/2277843823766967)

1å¹´å‰

æ˜¯çš„ï¼Œä½ å¯ä»¥è¯•ä¸‹

â€œ

å“¦ è¯´é”™äº†ï¼Œåº”è¯¥æ˜¯å¯¹äºè¿™ç§ var obj = { a: 1, b: { c: 2 } }; typeof c === 'object'ï¼Œä¼šå†åˆ›å»ºä¸€ä¸ªProxyå®ä¾‹ä¹ˆï¼Ÿ

â€

ç‚¹èµ

å›å¤

[![BertieHuangçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/940837682031709)

[BertieHuang![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/940837682031709)

1å¹´å‰

CommonJS å¯¼å‡ºçš„æ˜¯æµ…æ‹·è´ï¼Œåªæ˜¯ç¬¬ä¸€å±‚å±æ€§æ˜¯æ‹·è´ï¼Œæ·±å±‚çš„è¿˜æ˜¯å¼•ç”¨ã€‚

1

å›å¤

[![å¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸºçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3526889031609928)

[å¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸº](https://juejin.cn/user/3526889031609928)

fe1å¹´å‰

var let const å†…å­˜åŒºåˆ«

ç‚¹èµ

å›å¤

[![éš¾å¾—ç³Šæ¶‚wxtçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/1838039172680872)

[éš¾å¾—ç³Šæ¶‚wxt](https://juejin.cn/user/1838039172680872)

webå‰ç«¯1å¹´å‰

å¯ä»¥åŠ ä¸Šweakmap

2

å›å¤

[![è¿ªæ–¯é©¬æ–¯å…‹çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3737995265976430)

[è¿ªæ–¯é©¬æ–¯å…‹![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/3737995265976430)

å‰ç«¯ @ åäºŒå®«1å¹´å‰

var a = 1
function a() {}
console.log(a)
ä¸ºå•¥è¾“å‡ºæ˜¯1ï¼Ÿ
å¦‚æœ a ä¸èµ‹å€¼çš„è¯è¾“å‡ºæ‰æ˜¯ f a() {}

ç‚¹èµ

4

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2154698523281719)

[bigdriedfish](https://juejin.cn/user/2154698523281719)

1å¹´å‰

ä½ å†ä»”ç»†çœ‹çœ‹ä½ çš„ä»£ç 

ç‚¹èµ

å›å¤

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3509296844243319)

[itè‘£å“](https://juejin.cn/user/3509296844243319)

1å¹´å‰

var a
console.log(a)

ç‚¹èµ

å›å¤

æŸ¥çœ‹æ›´å¤šå›å¤

[![Jelonçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3984285869282919)

[Jelon](https://juejin.cn/user/3984285869282919)

å‰ç«¯ @ sp2å¹´å‰

classä¼šæå‡ä¸ï¼Ÿ

3

1

[![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3685218705748087)

[è¯æ°´å“¥](https://juejin.cn/user/3685218705748087)

2å¹´å‰

ä¸ä¼š

ç‚¹èµ

å›å¤

[![JowayYoungçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2330620350432110)

[JowayYoung![lv-6](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/74bd93adef7feff4fee26d08c0845b4f.svg)](https://juejin.cn/user/2330620350432110)

èµ„æ·±å‰ç«¯ï¼Œæ€»ç»“å¤§å¸ˆ @ ç½‘æ˜“2å¹´å‰

æ¨¡å—åŒ–æ›´å¤šçš„è€ƒç‚¹è¡¥å……å¯æŸ¥çœ‹è¿™é‡Œ [![img](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/3f843e8626a3844c624fb596dddd9674.svg)juejin.im](https://juejin.im/post/5d9bf530518825427b27639d#heading-21)

2

å›å¤

[![JowayYoungçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2330620350432110)

[JowayYoung![lv-6](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/74bd93adef7feff4fee26d08c0845b4f.svg)](https://juejin.cn/user/2330620350432110)

èµ„æ·±å‰ç«¯ï¼Œæ€»ç»“å¤§å¸ˆ @ ç½‘æ˜“2å¹´å‰

reduceçš„è¯¦ç»†ç”¨æ³•å¯çœ‹ä¸‹è¿™ç¯‡æ–‡ç«  [![img](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/3f843e8626a3844c624fb596dddd9674.svg)juejin.im](https://juejin.im/post/5e44002c6fb9a07c9f3fd135)

1

å›å¤

[![Allen_Ochsçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/852876755740455)

[Allen_Ochs](https://juejin.cn/user/852876755740455)

2å¹´å‰

letå’Œconstä¹Ÿä¼šå­˜åœ¨æå‡å—ï¼Ÿåªæ˜¯å› ä¸ºæš‚æ—¶æ€§æ­»åŒºçš„åŸå› è€Œä¸èƒ½åƒvaråœ¨å£°æ˜å‰ä½¿ç”¨ï¼Ÿè¿˜æ˜¯letå’Œconstæ ¹æœ¬å°±ä¸ä¼šæå‡

ç‚¹èµ

3

[![img](https://p6-passport.byteacctimg.com/img/user-avatar/b3935c1f74d448033838cb423c94fb86~300x300.image)](https://juejin.cn/user/1099167359045501)

[è½è½è½æ´›å…‹![lv-3](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e108c685147dfe1fb03d4a37257fb417.svg)](https://juejin.cn/user/1099167359045501)

2å¹´å‰

å› ä¸ºlet constæ˜¯åœ¨ä¸Šä¸‹æ–‡æ‰§è¡Œçš„é˜¶æ®µæ‰å¼€å§‹æ‰§è¡Œï¼Œæ‰€ä»¥ä¸å­˜åœ¨å˜é‡æå‡è¿™ä¸€è¯´æ³•

ç‚¹èµ

å›å¤

[![img](https://p6-passport.byteacctimg.com/img/user-avatar/185dfd2fedf502f266433d82461de322~300x300.image)](https://juejin.cn/user/307518984443805)

[äº‘å¸å–µ![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/307518984443805)

1å¹´å‰

ä¹‹å‰çœ‹åˆ°ä¸€ç§è¯´æ³•æ˜¯ let const ä¹Ÿå¯ä»¥æå‡ã€‚åªä¸è¿‡ä¸ä¼šå¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œvarä¼šåˆå§‹åŒ–undefinedã€‚ç„¶å let constçš„ä½ç½®æ˜¯è¯æ³•ç¯å¢ƒã€‚

ç‚¹èµ

å›å¤

æŸ¥çœ‹æ›´å¤šå›å¤

[![çˆ±ç å£«ä¸æƒ³è¯´è¯çš„å¤´åƒ](https://p6-passport.byteacctimg.com/img/user-avatar/76d3434535832af18cf833c4a00b03cc~300x300.image)](https://juejin.cn/user/413072103052477)

[çˆ±ç å£«ä¸æƒ³è¯´è¯](https://juejin.cn/user/413072103052477)

2å¹´å‰

å¯„ç”Ÿç»„åˆç»§æ‰¿
Child.prototype = Object.create(Parent.prototype, {
 constructor: {
 value: Child,
 enumerable: false,
 writable: true,
 configurable: true
 }
})
è¿™æ ·è¿˜æ˜¯å¤šäº†ä¸€æ¬¡åŸå‹é“¾æŸ¥æ‰¾
ä¸ºå•¥ä¸ç›´æ¥æŠŠ Parent.prototype çš„å±æ€§æ”¾åˆ° Child.prototype è€Œä¸æ˜¯æ”¾åˆ°Child.prototype çš„ __prop__ ä¸Š

å±•å¼€

1

5

[![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/12/13/16efd5e34093f805~tplv-t2oaga2asx-no-mark:24:24:24:24.awebp)](https://juejin.cn/user/1468603264146990)

[å®…ç¥](https://juejin.cn/user/1468603264146990)

2å¹´å‰

å¦‚æœchild prototypeä¸Šé¢åŠ ä¸œè¥¿ï¼Œ å²‚ä¸æ˜¯è·‘åˆ°äº†parent prototypeä¸Šé¢äº†

ç‚¹èµ

å›å¤

[![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/12/14/167aaca18cbbeae5~tplv-t2oaga2asx-no-mark:24:24:24:24.awebp)](https://juejin.cn/user/2066737589927048)

[maker_feng](https://juejin.cn/user/2066737589927048)

2å¹´å‰

__prop__ä¸æ¨èä½¿ç”¨

ç‚¹èµ

å›å¤

æŸ¥çœ‹æ›´å¤šå›å¤

[![sophieæ—­çš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/user-avatar/3e4e087e89cca513abc5a13bd10a301d~300x300.image)](https://juejin.cn/user/2559318799692952)

[sophieæ—­](https://juejin.cn/user/2559318799692952)

2å¹´å‰

CommonJS å’Œ ES6 module åŒºåˆ«ï¼š[![img](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/3f843e8626a3844c624fb596dddd9674.svg)blog.csdn.net](https://link.juejin.cn/?target=https%3A%2F%2Fblog.csdn.net%2Flhjuejiang%2Farticle%2Fdetails%2F80274212)

1

å›å¤

[![sophieæ—­çš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/user-avatar/3e4e087e89cca513abc5a13bd10a301d~300x300.image)](https://juejin.cn/user/2559318799692952)

[sophieæ—­](https://juejin.cn/user/2559318799692952)

2å¹´å‰

commonjså®ç°ï¼š[![img](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/3f843e8626a3844c624fb596dddd9674.svg)blog.csdn.net](https://link.juejin.cn/?target=https%3A%2F%2Fblog.csdn.net%2Fgithub_38140984%2Farticle%2Fdetails%2F83006095)ï¼Œå¯ä»¥çœ‹åˆ° 6

ç‚¹èµ

å›å¤

[![sophieæ—­çš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/user-avatar/3e4e087e89cca513abc5a13bd10a301d~300x300.image)](https://juejin.cn/user/2559318799692952)

[sophieæ—­](https://juejin.cn/user/2559318799692952)

2å¹´å‰

class extends ä¼šåˆ›å»ºç¬¬äºŒæ¡â€˜åŸå‹é“¾â€™
[![img](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/3f843e8626a3844c624fb596dddd9674.svg)blog.csdn.net](https://link.juejin.cn/?target=https%3A%2F%2Fblog.csdn.net%2Fm0_37722811%2Farticle%2Fdetails%2F84343227)

ç‚¹èµ

å›å¤

[![sophieæ—­çš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/user-avatar/3e4e087e89cca513abc5a13bd10a301d~300x300.image)](https://juejin.cn/user/2559318799692952)

[sophieæ—­](https://juejin.cn/user/2559318799692952)

3å¹´å‰

ä¼˜åŒ– JS æ¡ä»¶è¯­å¥çš„ 5 ä¸ªæŠ€å·§ 
[![img](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/3f843e8626a3844c624fb596dddd9674.svg)blog.jobbole.com](https://link.juejin.cn/?target=http%3A%2F%2Fblog.jobbole.com%2F114671%2F)
æœ‰å…³äº Mapï¼Œè§£æ„ï¼ŒArray.some, Array.every, Array.includesçš„ç”¨å¤„

ç‚¹èµ

å›å¤

æŸ¥çœ‹å…¨éƒ¨ 165 æ¡å›å¤