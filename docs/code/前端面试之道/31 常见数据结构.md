# å¸¸è§æ•°æ®ç»“æ„

è¿™ä¸€ç« èŠ‚æˆ‘ä»¬å°†æ¥å­¦ä¹ æ•°æ®ç»“æ„çš„å†…å®¹ã€‚ç»å¸¸ä¼šæœ‰äººæé—®è¯´ï¼šå­¦ä¹ æ•°æ®ç»“æ„æˆ–è€…ç®—æ³•å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆæœ‰ç”¨ä¹ˆï¼Ÿ

æ€»çš„æ¥è¯´ï¼Œè¿™äº›åŸºç¡€å­¦ç§‘åœ¨çŸ­æœŸå†…æ”¶æ•ˆç¡®å®ç”šå¾®ï¼Œä½†æ˜¯æˆ‘ä»¬é¦–å…ˆä¸è¦å°†è‡ªå·±å±€é™åœ¨å‰ç«¯å·¥ç¨‹å¸ˆè¿™ç‚¹ä¸Šã€‚ç¬”è€…ä¹‹å‰æ˜¯åš iOS å¼€å‘çš„ï¼Œè½¬åšå‰ç«¯ä»¥åï¼Œåªæœ‰ä¸¤ä¸ªæŠ€èƒ½è¿˜å¯¹æˆ‘æœ‰ç”¨ï¼š

1. åŸºç¡€å­¦ç§‘å†…å®¹ï¼Œæ¯”å¦‚ï¼šç½‘ç»œçŸ¥è¯†ã€æ•°æ®ç»“æ„ç®—æ³•
2. ç¼–ç¨‹æ€æƒ³

å…¶ä»– iOS ä¸Šç§¯ç´¯çš„ç»éªŒï¼Œè½¬è¡Œä»¥ååŸºæœ¬å°±æ²¡å¤šå¤§ç”¨å¤„äº†ã€‚æ‰€ä»¥è¯´ï¼Œå½“æˆ‘ä»¬æŠŠè§†é‡æ”¾åˆ°ç¼–ç¨‹è¿™ä¸ªè§’åº¦å»è¯´ï¼Œæ•°æ®ç»“æ„ç®—æ³•ä¸€å®šæ˜¯æœ‰ç”¨çš„ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯ä½ æœªæ¥çš„ä¸€ä¸ªå¤©èŠ±æ¿ã€‚å¯ä»¥ä¸èŠ±è´¹é›†ä¸­çš„æ—¶é—´å»å­¦ä¹ è¿™äº›å†…å®¹ï¼Œä½†æ˜¯ä¸€å®šéœ€è¦æ—¶å¸¸å»å­¦ä¹ ä¸€ç‚¹ï¼Œå› ä¸ºè¿™äº›æŠ€èƒ½å¯ä»¥å®å®åœ¨åœ¨æå‡ä½ å†™ä»£ç çš„èƒ½åŠ›ã€‚

> è¿™ä¸€ç« èŠ‚çš„å†…å®¹ä¿¡æ¯é‡ä¼šå¾ˆå¤§ï¼Œä¸é€‚åˆåœ¨éç”µè„‘ç¯å¢ƒä¸‹é˜…è¯»ï¼Œè¯·å„ä½æ‰“å¼€ä»£ç ç¼–è¾‘å™¨ï¼Œä¸€è¡Œè¡Œçš„æ•²ä»£ç ï¼Œå•çº¯é˜…è¯»æ˜¯å­¦ä¹ ä¸äº†æ•°æ®ç»“æ„çš„ã€‚

## æ—¶é—´å¤æ‚åº¦

åœ¨è¿›å…¥æ­£é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸‹ä»€ä¹ˆæ˜¯æ—¶é—´å¤æ‚åº¦ã€‚

é€šå¸¸ä½¿ç”¨æœ€å·®çš„æ—¶é—´å¤æ‚åº¦æ¥è¡¡é‡ä¸€ä¸ªç®—æ³•çš„å¥½åã€‚

å¸¸æ•°æ—¶é—´ O(1) ä»£è¡¨è¿™ä¸ªæ“ä½œå’Œæ•°æ®é‡æ²¡å…³ç³»ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šæ—¶é—´çš„æ“ä½œï¼Œæ¯”å¦‚è¯´å››åˆ™è¿ç®—ã€‚

å¯¹äºä¸€ä¸ªç®—æ³•æ¥è¯´ï¼Œå¯èƒ½ä¼šè®¡ç®—å‡ºæ“ä½œæ¬¡æ•°ä¸º aN + 1ï¼ŒN ä»£è¡¨æ•°æ®é‡ã€‚é‚£ä¹ˆè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(N)ã€‚å› ä¸ºæˆ‘ä»¬åœ¨è®¡ç®—æ—¶é—´å¤æ‚åº¦çš„æ—¶å€™ï¼Œæ•°æ®é‡é€šå¸¸æ˜¯éå¸¸å¤§çš„ï¼Œè¿™æ—¶å€™ä½é˜¶é¡¹å’Œå¸¸æ•°é¡¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚

å½“ç„¶å¯èƒ½ä¼šå‡ºç°ä¸¤ä¸ªç®—æ³•éƒ½æ˜¯ O(N) çš„æ—¶é—´å¤æ‚åº¦ï¼Œé‚£ä¹ˆå¯¹æ¯”ä¸¤ä¸ªç®—æ³•çš„å¥½åå°±è¦é€šè¿‡å¯¹æ¯”ä½é˜¶é¡¹å’Œå¸¸æ•°é¡¹äº†ã€‚

## æ ˆ

### æ¦‚å¿µ

æ ˆæ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼Œåœ¨è®¡ç®—æœºä¸­æ˜¯ä¸€ä¸ªç›¸å½“å¸¸è§çš„æ•°æ®ç»“æ„ã€‚

æ ˆçš„ç‰¹ç‚¹æ˜¯åªèƒ½åœ¨æŸä¸€ç«¯æ·»åŠ æˆ–åˆ é™¤æ•°æ®ï¼Œéµå¾ªå…ˆè¿›åå‡ºçš„åŸåˆ™



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/5/20/1637b785d2d68735~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)



### å®ç°

æ¯ç§æ•°æ®ç»“æ„éƒ½å¯ä»¥ç”¨å¾ˆå¤šç§æ–¹å¼æ¥å®ç°ï¼Œå…¶å®å¯ä»¥æŠŠæ ˆçœ‹æˆæ˜¯æ•°ç»„çš„ä¸€ä¸ªå­é›†ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨æ•°ç»„æ¥å®ç°

```
class Stack {
  constructor() {
    this.stack = []
  }
  push(item) {
    this.stack.push(item)
  }
  pop() {
    this.stack.pop()
  }
  peek() {
    return this.stack[this.getCount() - 1]
  }
  getCount() {
    return this.stack.length
  }
  isEmpty() {
    return this.getCount() === 0
  }
}
```

## åº”ç”¨

é€‰å–äº† [LeetCode ä¸Šåºå·ä¸º 20 çš„é¢˜ç›®](https://link.juejin.cn/?target=https%3A%2F%2Fleetcode.com%2Fproblems%2Fvalid-parentheses%2Fsubmissions%2F1)

é¢˜æ„æ˜¯åŒ¹é…æ‹¬å·ï¼Œå¯ä»¥é€šè¿‡æ ˆçš„ç‰¹æ€§æ¥å®Œæˆè¿™é“é¢˜ç›®

```
var isValid = function (s) {
  let map = {
    '(': -1,
    ')': 1,
    '[': -2,
    ']': 2,
    '{': -3,
    '}': 3
  }
  let stack = []
  for (let i = 0; i < s.length; i++) {
    if (map[s[i]] < 0) {
      stack.push(s[i])
    } else {
      let last = stack.pop()
      if (map[last] + map[s[i]] != 0) return false
    }
  }
  if (stack.length > 0) return false
  return true
};
```

å…¶å®åœ¨ Vue ä¸­å…³äºæ¨¡æ¿è§£æçš„ä»£ç ï¼Œå°±æœ‰åº”ç”¨åˆ°åŒ¹é…å°–æ‹¬å·çš„å†…å®¹ã€‚

## é˜Ÿåˆ—

### æ¦‚å¿µ

é˜Ÿåˆ—æ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼Œç‰¹ç‚¹æ˜¯åœ¨æŸä¸€ç«¯æ·»åŠ æ•°æ®ï¼Œåœ¨å¦ä¸€ç«¯åˆ é™¤æ•°æ®ï¼Œéµå¾ªå…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ã€‚



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/5/20/1637cba2a6155793~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)



### å®ç°

è¿™é‡Œä¼šè®²è§£ä¸¤ç§å®ç°é˜Ÿåˆ—çš„æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯å•é“¾é˜Ÿåˆ—å’Œå¾ªç¯é˜Ÿåˆ—ã€‚

#### å•é“¾é˜Ÿåˆ—

```
class Queue {
  constructor() {
    this.queue = []
  }
  enQueue(item) {
    this.queue.push(item)
  }
  deQueue() {
    return this.queue.shift()
  }
  getHeader() {
    return this.queue[0]
  }
  getLength() {
    return this.queue.length
  }
  isEmpty() {
    return this.getLength() === 0
  }
}
```

å› ä¸ºå•é“¾é˜Ÿåˆ—åœ¨å‡ºé˜Ÿæ“ä½œçš„æ—¶å€™éœ€è¦ O(n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥å¼•å…¥äº†å¾ªç¯é˜Ÿåˆ—ã€‚å¾ªç¯é˜Ÿåˆ—çš„å‡ºé˜Ÿæ“ä½œå¹³å‡æ˜¯ O(1) çš„æ—¶é—´å¤æ‚åº¦ã€‚

#### å¾ªç¯é˜Ÿåˆ—

```
class SqQueue {
  constructor(length) {
    this.queue = new Array(length + 1)
    // é˜Ÿå¤´
    this.first = 0
    // é˜Ÿå°¾
    this.last = 0
    // å½“å‰é˜Ÿåˆ—å¤§å°
    this.size = 0
  }
  enQueue(item) {
    // åˆ¤æ–­é˜Ÿå°¾ + 1 æ˜¯å¦ä¸ºé˜Ÿå¤´
    // å¦‚æœæ˜¯å°±ä»£è¡¨éœ€è¦æ‰©å®¹æ•°ç»„
    // % this.queue.length æ˜¯ä¸ºäº†é˜²æ­¢æ•°ç»„è¶Šç•Œ
    if (this.first === (this.last + 1) % this.queue.length) {
      this.resize(this.getLength() * 2 + 1)
    }
    this.queue[this.last] = item
    this.size++
    this.last = (this.last + 1) % this.queue.length
  }
  deQueue() {
    if (this.isEmpty()) {
      throw Error('Queue is empty')
    }
    let r = this.queue[this.first]
    this.queue[this.first] = null
    this.first = (this.first + 1) % this.queue.length
    this.size--
    // åˆ¤æ–­å½“å‰é˜Ÿåˆ—å¤§å°æ˜¯å¦è¿‡å°
    // ä¸ºäº†ä¿è¯ä¸æµªè´¹ç©ºé—´ï¼Œåœ¨é˜Ÿåˆ—ç©ºé—´ç­‰äºæ€»é•¿åº¦å››åˆ†ä¹‹ä¸€æ—¶
    // ä¸”ä¸ä¸º 2 æ—¶ç¼©å°æ€»é•¿åº¦ä¸ºå½“å‰çš„ä¸€åŠ
    if (this.size === this.getLength() / 4 && this.getLength() / 2 !== 0) {
      this.resize(this.getLength() / 2)
    }
    return r
  }
  getHeader() {
    if (this.isEmpty()) {
      throw Error('Queue is empty')
    }
    return this.queue[this.first]
  }
  getLength() {
    return this.queue.length - 1
  }
  isEmpty() {
    return this.first === this.last
  }
  resize(length) {
    let q = new Array(length)
    for (let i = 0; i < length; i++) {
      q[i] = this.queue[(i + this.first) % this.queue.length]
    }
    this.queue = q
    this.first = 0
    this.last = this.size
  }
}
```

## é“¾è¡¨

### æ¦‚å¿µ

é“¾è¡¨æ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¤©ç„¶çš„é€’å½’ç»“æ„ã€‚é“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/5/22/16388487759b1152~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)



### å®ç°

**å•å‘é“¾è¡¨**

```
class Node {
  constructor(v, next) {
    this.value = v
    this.next = next
  }
}
class LinkList {
  constructor() {
    // é“¾è¡¨é•¿åº¦
    this.size = 0
    // è™šæ‹Ÿå¤´éƒ¨
    this.dummyNode = new Node(null, null)
  }
  find(header, index, currentIndex) {
    if (index === currentIndex) return header
    return this.find(header.next, index, currentIndex + 1)
  }
  addNode(v, index) {
    this.checkIndex(index)
    // å½“å¾€é“¾è¡¨æœ«å°¾æ’å…¥æ—¶ï¼Œprev.next ä¸ºç©º
    // å…¶ä»–æƒ…å†µæ—¶ï¼Œå› ä¸ºè¦æ’å…¥èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ’å…¥çš„èŠ‚ç‚¹
    // çš„ next åº”è¯¥æ˜¯ prev.next
    // ç„¶åè®¾ç½® prev.next ä¸ºæ’å…¥çš„èŠ‚ç‚¹
    let prev = this.find(this.dummyNode, index, 0)
    prev.next = new Node(v, prev.next)
    this.size++
    return prev.next
  }
  insertNode(v, index) {
    return this.addNode(v, index)
  }
  addToFirst(v) {
    return this.addNode(v, 0)
  }
  addToLast(v) {
    return this.addNode(v, this.size)
  }
  removeNode(index, isLast) {
    this.checkIndex(index)
    index = isLast ? index - 1 : index
    let prev = this.find(this.dummyNode, index, 0)
    let node = prev.next
    prev.next = node.next
    node.next = null
    this.size--
    return node
  }
  removeFirstNode() {
    return this.removeNode(0)
  }
  removeLastNode() {
    return this.removeNode(this.size, true)
  }
  checkIndex(index) {
    if (index < 0 || index > this.size) throw Error('Index error')
  }
  getNode(index) {
    this.checkIndex(index)
    if (this.isEmpty()) return
    return this.find(this.dummyNode, index, 0).next
  }
  isEmpty() {
    return this.size === 0
  }
  getSize() {
    return this.size
  }
}
```

## æ ‘

### äºŒå‰æ ‘

æ ‘æ‹¥æœ‰å¾ˆå¤šç§ç»“æ„ï¼ŒäºŒå‰æ ‘æ˜¯æ ‘ä¸­æœ€å¸¸ç”¨çš„ç»“æ„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¤©ç„¶çš„é€’å½’ç»“æ„ã€‚

äºŒå‰æ ‘æ‹¥æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæ‹¥æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ†åˆ«ä¸ºï¼šå·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ã€‚æ ‘çš„æœ€åº•éƒ¨èŠ‚ç‚¹ç§°ä¹‹ä¸ºå¶èŠ‚ç‚¹ï¼Œå½“ä¸€é¢—æ ‘çš„å¶æ•°é‡æ•°é‡ä¸ºæ»¡æ—¶ï¼Œè¯¥æ ‘å¯ä»¥ç§°ä¹‹ä¸ºæ»¡äºŒå‰æ ‘ã€‚



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/5/22/163884f74c9f4e4d~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)



### äºŒåˆ†æœç´¢æ ‘

äºŒåˆ†æœç´¢æ ‘ä¹Ÿæ˜¯äºŒå‰æ ‘ï¼Œæ‹¥æœ‰äºŒå‰æ ‘çš„ç‰¹æ€§ã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºäºŒåˆ†æœç´¢æ ‘æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ¯”ä»–çš„å·¦å­æ ‘çš„å€¼å¤§ï¼Œæ¯”å³å­æ ‘çš„å€¼å°ã€‚

è¿™ç§å­˜å‚¨æ–¹å¼å¾ˆé€‚åˆäºæ•°æ®æœç´¢ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“éœ€è¦æŸ¥æ‰¾ 6 çš„æ—¶å€™ï¼Œå› ä¸ºéœ€è¦æŸ¥æ‰¾çš„å€¼æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å¤§ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨æ ¹èŠ‚ç‚¹çš„å³å­æ ‘ä¸Šå¯»æ‰¾ï¼Œå¤§å¤§æé«˜äº†æœç´¢æ•ˆç‡ã€‚



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/5/22/1638850ba7458208~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)



### å®ç°

```
class Node {
  constructor(value) {
    this.value = value
    this.left = null
    this.right = null
  }
}
class BST {
  constructor() {
    this.root = null
    this.size = 0
  }
  getSize() {
    return this.size
  }
  isEmpty() {
    return this.size === 0
  }
  addNode(v) {
    this.root = this._addChild(this.root, v)
  }
  // æ·»åŠ èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦æ¯”è¾ƒæ·»åŠ çš„èŠ‚ç‚¹å€¼å’Œå½“å‰
  // èŠ‚ç‚¹å€¼çš„å¤§å°
  _addChild(node, v) {
    if (!node) {
      this.size++
      return new Node(v)
    }
    if (node.value > v) {
      node.left = this._addChild(node.left, v)
    } else if (node.value < v) {
      node.right = this._addChild(node.right, v)
    }
    return node
  }
}
```

ä»¥ä¸Šæ˜¯æœ€åŸºæœ¬çš„äºŒåˆ†æœç´¢æ ‘å®ç°ï¼Œæ¥ä¸‹æ¥å®ç°æ ‘çš„éå†ã€‚

å¯¹äºæ ‘çš„éå†æ¥è¯´ï¼Œæœ‰ä¸‰ç§éå†æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯å…ˆåºéå†ã€ä¸­åºéå†ã€ååºéå†ã€‚ä¸‰ç§éå†çš„åŒºåˆ«åœ¨äºä½•æ—¶è®¿é—®èŠ‚ç‚¹ã€‚åœ¨éå†æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šéå†ä¸‰æ¬¡ï¼Œåˆ†åˆ«æ˜¯éå†åˆ°è‡ªå·±ï¼Œéå†å·¦å­æ ‘å’Œéå†å³å­æ ‘ã€‚å¦‚æœéœ€è¦å®ç°å…ˆåºéå†ï¼Œé‚£ä¹ˆåªéœ€è¦ç¬¬ä¸€æ¬¡éå†åˆ°èŠ‚ç‚¹æ—¶è¿›è¡Œæ“ä½œå³å¯ã€‚

```
// å…ˆåºéå†å¯ç”¨äºæ‰“å°æ ‘çš„ç»“æ„
// å…ˆåºéå†å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åè®¿é—®å·¦èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®å³èŠ‚ç‚¹ã€‚
preTraversal() {
  this._pre(this.root)
}
_pre(node) {
  if (node) {
    console.log(node.value)
    this._pre(node.left)
    this._pre(node.right)
  }
}
// ä¸­åºéå†å¯ç”¨äºæ’åº
// å¯¹äº BST æ¥è¯´ï¼Œä¸­åºéå†å¯ä»¥å®ç°ä¸€æ¬¡éå†å°±
// å¾—åˆ°æœ‰åºçš„å€¼
// ä¸­åºéå†è¡¨ç¤ºå…ˆè®¿é—®å·¦èŠ‚ç‚¹ï¼Œç„¶åè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®å³èŠ‚ç‚¹ã€‚
midTraversal() {
  this._mid(this.root)
}
_mid(node) {
  if (node) {
    this._mid(node.left)
    console.log(node.value)
    this._mid(node.right)
  }
}
// ååºéå†å¯ç”¨äºå…ˆæ“ä½œå­èŠ‚ç‚¹
// å†æ“ä½œçˆ¶èŠ‚ç‚¹çš„åœºæ™¯
// ååºéå†è¡¨ç¤ºå…ˆè®¿é—®å·¦èŠ‚ç‚¹ï¼Œç„¶åè®¿é—®å³èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®æ ¹èŠ‚ç‚¹ã€‚
backTraversal() {
  this._back(this.root)
}
_back(node) {
  if (node) {
    this._back(node.left)
    this._back(node.right)
    console.log(node.value)
  }
}
```

ä»¥ä¸Šçš„è¿™å‡ ç§éå†éƒ½å¯ä»¥ç§°ä¹‹ä¸ºæ·±åº¦éå†ï¼Œå¯¹åº”çš„è¿˜æœ‰ç§éå†å«åšå¹¿åº¦éå†ï¼Œä¹Ÿå°±æ˜¯ä¸€å±‚å±‚åœ°éå†æ ‘ã€‚å¯¹äºå¹¿åº¦éå†æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ä¹‹å‰è®²è¿‡çš„é˜Ÿåˆ—ç»“æ„æ¥å®Œæˆã€‚

```
breadthTraversal() {
  if (!this.root) return null
  let q = new Queue()
  // å°†æ ¹èŠ‚ç‚¹å…¥é˜Ÿ
  q.enQueue(this.root)
  // å¾ªç¯åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©º
  // ä»£è¡¨æ ‘éå†å®Œæ¯•
  while (!q.isEmpty()) {
    // å°†é˜Ÿé¦–å‡ºé˜Ÿï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å·¦å³å­æ ‘
    // æœ‰çš„è¯ï¼Œå°±å…ˆå·¦åå³å…¥é˜Ÿ
    let n = q.deQueue()
    console.log(n.value)
    if (n.left) q.enQueue(n.left)
    if (n.right) q.enQueue(n.right)
  }
}
```

æ¥ä¸‹æ¥å…ˆä»‹ç»å¦‚ä½•åœ¨æ ‘ä¸­å¯»æ‰¾æœ€å°å€¼æˆ–æœ€å¤§æ•°ã€‚å› ä¸ºäºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æœ€å°å€¼ä¸€å®šåœ¨æ ¹èŠ‚ç‚¹çš„æœ€å·¦è¾¹ï¼Œæœ€å¤§å€¼ç›¸å

```
getMin() {
  return this._getMin(this.root).value
}
_getMin(node) {
  if (!node.left) return node
  return this._getMin(node.left)
}
getMax() {
  return this._getMax(this.root).value
}
_getMax(node) {
  if (!node.right) return node
  return this._getMin(node.right)
}
```

**å‘ä¸Šå–æ•´å’Œå‘ä¸‹å–æ•´**ï¼Œè¿™ä¸¤ä¸ªæ“ä½œæ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥ä»£ç ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œè¿™é‡Œåªä»‹ç»å¦‚ä½•å‘ä¸‹å–æ•´ã€‚æ—¢ç„¶æ˜¯å‘ä¸‹å–æ•´ï¼Œé‚£ä¹ˆæ ¹æ®äºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œå€¼ä¸€å®šåœ¨æ ¹èŠ‚ç‚¹çš„å·¦ä¾§ã€‚åªéœ€è¦ä¸€ç›´éå†å·¦å­æ ‘ç›´åˆ°å½“å‰èŠ‚ç‚¹çš„å€¼ä¸å†å¤§äºç­‰äºéœ€è¦çš„å€¼ï¼Œç„¶ååˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦è¿˜æ‹¥æœ‰å³å­æ ‘ã€‚å¦‚æœæœ‰çš„è¯ï¼Œç»§ç»­ä¸Šé¢çš„é€’å½’åˆ¤æ–­ã€‚

```
floor(v) {
  let node = this._floor(this.root, v)
  return node ? node.value : null
}
_floor(node, v) {
  if (!node) return null
  if (node.value === v) return v
  // å¦‚æœå½“å‰èŠ‚ç‚¹å€¼è¿˜æ¯”éœ€è¦çš„å€¼å¤§ï¼Œå°±ç»§ç»­é€’å½’
  if (node.value > v) {
    return this._floor(node.left, v)
  }
  // åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰å³å­æ ‘
  let right = this._floor(node.right, v)
  if (right) return right
  return node
}
```

**æ’å**ï¼Œè¿™æ˜¯ç”¨äºè·å–ç»™å®šå€¼çš„æ’åæˆ–è€…æ’åç¬¬å‡ çš„èŠ‚ç‚¹çš„å€¼ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹Ÿæ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥è¿™ä¸ªåªä»‹ç»å¦‚ä½•è·å–æ’åç¬¬å‡ çš„èŠ‚ç‚¹çš„å€¼ã€‚å¯¹äºè¿™ä¸ªæ“ä½œè€Œè¨€ï¼Œæˆ‘ä»¬éœ€è¦ç•¥å¾®çš„æ”¹é€ ç‚¹ä»£ç ï¼Œè®©æ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰ä¸€ä¸ª `size` å±æ€§ã€‚è¯¥å±æ€§è¡¨ç¤ºè¯¥èŠ‚ç‚¹ä¸‹æœ‰å¤šå°‘å­èŠ‚ç‚¹ï¼ˆåŒ…å«è‡ªèº«ï¼‰ã€‚

```
class Node {
  constructor(value) {
    this.value = value
    this.left = null
    this.right = null
    // ä¿®æ”¹ä»£ç 
    this.size = 1
  }
}
// æ–°å¢ä»£ç 
_getSize(node) {
  return node ? node.size : 0
}
_addChild(node, v) {
  if (!node) {
    return new Node(v)
  }
  if (node.value > v) {
    // ä¿®æ”¹ä»£ç 
    node.size++
    node.left = this._addChild(node.left, v)
  } else if (node.value < v) {
    // ä¿®æ”¹ä»£ç 
    node.size++
    node.right = this._addChild(node.right, v)
  }
  return node
}
select(k) {
  let node = this._select(this.root, k)
  return node ? node.value : null
}
_select(node, k) {
  if (!node) return null
  // å…ˆè·å–å·¦å­æ ‘ä¸‹æœ‰å‡ ä¸ªèŠ‚ç‚¹
  let size = node.left ? node.left.size : 0
  // åˆ¤æ–­ size æ˜¯å¦å¤§äº k
  // å¦‚æœå¤§äº kï¼Œä»£è¡¨æ‰€éœ€è¦çš„èŠ‚ç‚¹åœ¨å·¦èŠ‚ç‚¹
  if (size > k) return this._select(node.left, k)
  // å¦‚æœå°äº kï¼Œä»£è¡¨æ‰€éœ€è¦çš„èŠ‚ç‚¹åœ¨å³èŠ‚ç‚¹
  // æ³¨æ„è¿™é‡Œéœ€è¦é‡æ–°è®¡ç®— kï¼Œå‡å»æ ¹èŠ‚ç‚¹é™¤äº†å³å­æ ‘çš„èŠ‚ç‚¹æ•°é‡
  if (size < k) return this._select(node.right, k - size - 1)
  return node
}
```

æ¥ä¸‹æ¥è®²è§£çš„æ˜¯äºŒåˆ†æœç´¢æ ‘ä¸­æœ€éš¾å®ç°çš„éƒ¨åˆ†ï¼šåˆ é™¤èŠ‚ç‚¹ã€‚å› ä¸ºå¯¹äºåˆ é™¤èŠ‚ç‚¹æ¥è¯´ï¼Œä¼šå­˜åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µ

- éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰å­æ ‘
- éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹åªæœ‰ä¸€æ¡å­æ ‘
- éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰å·¦å³ä¸¤æ¡æ ‘

å¯¹äºå‰ä¸¤ç§æƒ…å†µå¾ˆå¥½è§£å†³ï¼Œä½†æ˜¯ç¬¬ä¸‰ç§æƒ…å†µå°±æœ‰éš¾åº¦äº†ï¼Œæ‰€ä»¥å…ˆæ¥å®ç°ç›¸å¯¹ç®€å•çš„æ“ä½œï¼šåˆ é™¤æœ€å°èŠ‚ç‚¹ï¼Œå¯¹äºåˆ é™¤æœ€å°èŠ‚ç‚¹æ¥è¯´ï¼Œæ˜¯ä¸å­˜åœ¨ç¬¬ä¸‰ç§æƒ…å†µçš„ï¼Œåˆ é™¤æœ€å¤§èŠ‚ç‚¹æ“ä½œæ˜¯å’Œåˆ é™¤æœ€å°èŠ‚ç‚¹ç›¸åçš„ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±ä¸å†èµ˜è¿°ã€‚

```
delectMin() {
  this.root = this._delectMin(this.root)
  console.log(this.root)
}
_delectMin(node) {
  // ä¸€ç›´é€’å½’å·¦å­æ ‘
  // å¦‚æœå·¦å­æ ‘ä¸ºç©ºï¼Œå°±åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰å³å­æ ‘
  // æœ‰å³å­æ ‘çš„è¯å°±æŠŠéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æ›¿æ¢ä¸ºå³å­æ ‘
  if ((node != null) & !node.left) return node.right
  node.left = this._delectMin(node.left)
  // æœ€åéœ€è¦é‡æ–°ç»´æŠ¤ä¸‹èŠ‚ç‚¹çš„ `size`
  node.size = this._getSize(node.left) + this._getSize(node.right) + 1
  return node
}
```

æœ€åè®²è§£çš„å°±æ˜¯å¦‚ä½•åˆ é™¤ä»»æ„èŠ‚ç‚¹äº†ã€‚å¯¹äºè¿™ä¸ªæ“ä½œï¼ŒT.Hibbard åœ¨ 1962 å¹´æå‡ºäº†è§£å†³è¿™ä¸ªéš¾é¢˜çš„åŠæ³•ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•è§£å†³ç¬¬ä¸‰ç§æƒ…å†µã€‚

å½“é‡åˆ°è¿™ç§æƒ…å†µæ—¶ï¼Œéœ€è¦å–å‡ºå½“å‰èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯å½“å‰èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ï¼‰æ¥æ›¿æ¢éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ã€‚ç„¶åå°†éœ€è¦åˆ é™¤èŠ‚ç‚¹çš„å·¦å­æ ‘èµ‹å€¼ç»™åç»§ç»“ç‚¹ï¼Œå³å­æ ‘åˆ é™¤åç»§ç»“ç‚¹åèµ‹å€¼ç»™ä»–ã€‚

ä½ å¦‚æœå¯¹äºè¿™ä¸ªè§£å†³åŠæ³•æœ‰ç–‘é—®çš„è¯ï¼Œå¯ä»¥è¿™æ ·è€ƒè™‘ã€‚å› ä¸ºäºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œçˆ¶èŠ‚ç‚¹ä¸€å®šæ¯”æ‰€æœ‰å·¦å­èŠ‚ç‚¹å¤§ï¼Œæ¯”æ‰€æœ‰å³å­èŠ‚ç‚¹å°ã€‚é‚£ä¹ˆå½“éœ€è¦åˆ é™¤çˆ¶èŠ‚ç‚¹æ—¶ï¼ŒåŠ¿å¿…éœ€è¦æ‹¿å‡ºä¸€ä¸ªæ¯”çˆ¶èŠ‚ç‚¹å¤§çš„èŠ‚ç‚¹æ¥æ›¿æ¢çˆ¶èŠ‚ç‚¹ã€‚è¿™ä¸ªèŠ‚ç‚¹è‚¯å®šä¸å­˜åœ¨äºå·¦å­æ ‘ï¼Œå¿…ç„¶å­˜åœ¨äºå³å­æ ‘ã€‚ç„¶ååˆéœ€è¦ä¿æŒçˆ¶èŠ‚ç‚¹éƒ½æ˜¯æ¯”å³å­èŠ‚ç‚¹å°çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥å–å‡ºå³å­æ ‘ä¸­æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹æ¥æ›¿æ¢çˆ¶èŠ‚ç‚¹ã€‚

```
delect(v) {
  this.root = this._delect(this.root, v)
}
_delect(node, v) {
  if (!node) return null
  // å¯»æ‰¾çš„èŠ‚ç‚¹æ¯”å½“å‰èŠ‚ç‚¹å°ï¼Œå»å·¦å­æ ‘æ‰¾
  if (node.value < v) {
    node.right = this._delect(node.right, v)
  } else if (node.value > v) {
    // å¯»æ‰¾çš„èŠ‚ç‚¹æ¯”å½“å‰èŠ‚ç‚¹å¤§ï¼Œå»å³å­æ ‘æ‰¾
    node.left = this._delect(node.left, v)
  } else {
    // è¿›å…¥è¿™ä¸ªæ¡ä»¶è¯´æ˜å·²ç»æ‰¾åˆ°èŠ‚ç‚¹
    // å…ˆåˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰æ‹¥æœ‰å·¦å³å­æ ‘ä¸­çš„ä¸€ä¸ª
    // æ˜¯çš„è¯ï¼Œå°†å­æ ‘è¿”å›å‡ºå»ï¼Œè¿™é‡Œå’Œ `_delectMin` çš„æ“ä½œä¸€æ ·
    if (!node.left) return node.right
    if (!node.right) return node.left
    // è¿›å…¥è¿™é‡Œï¼Œä»£è¡¨èŠ‚ç‚¹æ‹¥æœ‰å·¦å³å­æ ‘
    // å…ˆå–å‡ºå½“å‰èŠ‚ç‚¹çš„åç»§ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯å–å½“å‰èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°å€¼
    let min = this._getMin(node.right)
    // å–å‡ºæœ€å°å€¼åï¼Œåˆ é™¤æœ€å°å€¼
    // ç„¶åæŠŠåˆ é™¤èŠ‚ç‚¹åçš„å­æ ‘èµ‹å€¼ç»™æœ€å°å€¼èŠ‚ç‚¹
    min.right = this._delectMin(node.right)
    // å·¦å­æ ‘ä¸åŠ¨
    min.left = node.left
    node = min
  }
  // ç»´æŠ¤ size
  node.size = this._getSize(node.left) + this._getSize(node.right) + 1
  return node
}
```

## AVL æ ‘

### æ¦‚å¿µ

äºŒåˆ†æœç´¢æ ‘å®é™…åœ¨ä¸šåŠ¡ä¸­æ˜¯å—åˆ°é™åˆ¶çš„ï¼Œå› ä¸ºå¹¶ä¸æ˜¯ä¸¥æ ¼çš„ O(logN)ï¼Œåœ¨æç«¯æƒ…å†µä¸‹ä¼šé€€åŒ–æˆé“¾è¡¨ï¼Œæ¯”å¦‚åŠ å…¥ä¸€ç»„å‡åºçš„æ•°å­—å°±ä¼šé€ æˆè¿™ç§æƒ…å†µã€‚

AVL æ ‘æ”¹è¿›äº†äºŒåˆ†æœç´¢æ ‘ï¼Œåœ¨ AVL æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„é«˜åº¦å·®éƒ½ä¸å¤§äº 1ï¼Œè¿™æ ·ä¿è¯äº†æ—¶é—´å¤æ‚åº¦æ˜¯ä¸¥æ ¼çš„ O(logN)ã€‚åŸºäºæ­¤ï¼Œå¯¹ AVL æ ‘å¢åŠ æˆ–åˆ é™¤èŠ‚ç‚¹æ—¶å¯èƒ½éœ€è¦æ—‹è½¬æ ‘æ¥è¾¾åˆ°é«˜åº¦çš„å¹³è¡¡ã€‚

### å®ç°

å› ä¸º AVL æ ‘æ˜¯æ”¹è¿›äº†äºŒåˆ†æœç´¢æ ‘ï¼Œæ‰€ä»¥éƒ¨åˆ†ä»£ç æ˜¯äºäºŒåˆ†æœç´¢æ ‘é‡å¤çš„ï¼Œå¯¹äºé‡å¤å†…å®¹ä¸ä½œå†æ¬¡è§£æã€‚

å¯¹äº AVL æ ‘æ¥è¯´ï¼Œæ·»åŠ èŠ‚ç‚¹ä¼šæœ‰å››ç§æƒ…å†µ



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/6/23/1642cc145a0cfb26~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)



å¯¹äºå·¦å·¦æƒ…å†µæ¥è¯´ï¼Œæ–°å¢åŠ çš„èŠ‚ç‚¹ä½äºèŠ‚ç‚¹ 2 çš„å·¦ä¾§ï¼Œè¿™æ—¶æ ‘å·²ç»ä¸å¹³è¡¡ï¼Œéœ€è¦æ—‹è½¬ã€‚å› ä¸ºæœç´¢æ ‘çš„ç‰¹æ€§ï¼ŒèŠ‚ç‚¹æ¯”å·¦èŠ‚ç‚¹å¤§ï¼Œæ¯”å³èŠ‚ç‚¹å°ï¼Œæ‰€ä»¥æ—‹è½¬ä»¥åä¹Ÿè¦å®ç°è¿™ä¸ªç‰¹æ€§ã€‚

æ—‹è½¬ä¹‹å‰ï¼šnew < 2 < C < 3 < B < 5 < Aï¼Œå³æ—‹ä¹‹åèŠ‚ç‚¹ 3 ä¸ºæ ¹èŠ‚ç‚¹ï¼Œè¿™æ—¶å€™éœ€è¦å°†èŠ‚ç‚¹ 3 çš„å³èŠ‚ç‚¹åŠ åˆ°èŠ‚ç‚¹ 5 çš„å·¦è¾¹ï¼Œæœ€åè¿˜éœ€è¦æ›´æ–°èŠ‚ç‚¹çš„é«˜åº¦ã€‚

å¯¹äºå³å³æƒ…å†µæ¥è¯´ï¼Œç›¸åäºå·¦å·¦æƒ…å†µï¼Œæ‰€ä»¥ä¸å†èµ˜è¿°ã€‚

å¯¹äºå·¦å³æƒ…å†µæ¥è¯´ï¼Œæ–°å¢åŠ çš„èŠ‚ç‚¹ä½äºèŠ‚ç‚¹ 4 çš„å³ä¾§ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œéœ€è¦é€šè¿‡ä¸¤æ¬¡æ—‹è½¬æ¥è¾¾åˆ°ç›®çš„ã€‚

é¦–å…ˆå¯¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹å·¦æ—‹ï¼Œè¿™æ—¶æ ‘æ»¡è¶³å·¦å·¦çš„æƒ…å†µï¼Œå†å¯¹èŠ‚ç‚¹è¿›è¡Œä¸€æ¬¡å³æ—‹å°±å¯ä»¥è¾¾åˆ°ç›®çš„ã€‚

```
class Node {
  constructor(value) {
    this.value = value
    this.left = null
    this.right = null
    this.height = 1
  }
}

class AVL {
  constructor() {
    this.root = null
  }
  addNode(v) {
    this.root = this._addChild(this.root, v)
  }
  _addChild(node, v) {
    if (!node) {
      return new Node(v)
    }
    if (node.value > v) {
      node.left = this._addChild(node.left, v)
    } else if (node.value < v) {
      node.right = this._addChild(node.right, v)
    } else {
      node.value = v
    }
    node.height =
      1 + Math.max(this._getHeight(node.left), this._getHeight(node.right))
    let factor = this._getBalanceFactor(node)
    // å½“éœ€è¦å³æ—‹æ—¶ï¼Œæ ¹èŠ‚ç‚¹çš„å·¦æ ‘ä¸€å®šæ¯”å³æ ‘é«˜åº¦é«˜
    if (factor > 1 && this._getBalanceFactor(node.left) >= 0) {
      return this._rightRotate(node)
    }
    // å½“éœ€è¦å·¦æ—‹æ—¶ï¼Œæ ¹èŠ‚ç‚¹çš„å·¦æ ‘ä¸€å®šæ¯”å³æ ‘é«˜åº¦çŸ®
    if (factor < -1 && this._getBalanceFactor(node.right) <= 0) {
      return this._leftRotate(node)
    }
    // å·¦å³æƒ…å†µ
    // èŠ‚ç‚¹çš„å·¦æ ‘æ¯”å³æ ‘é«˜ï¼Œä¸”èŠ‚ç‚¹çš„å·¦æ ‘çš„å³æ ‘æ¯”èŠ‚ç‚¹çš„å·¦æ ‘çš„å·¦æ ‘é«˜
    if (factor > 1 && this._getBalanceFactor(node.left) < 0) {
      node.left = this._leftRotate(node.left)
      return this._rightRotate(node)
    }
    // å³å·¦æƒ…å†µ
    // èŠ‚ç‚¹çš„å·¦æ ‘æ¯”å³æ ‘çŸ®ï¼Œä¸”èŠ‚ç‚¹çš„å³æ ‘çš„å³æ ‘æ¯”èŠ‚ç‚¹çš„å³æ ‘çš„å·¦æ ‘çŸ®
    if (factor < -1 && this._getBalanceFactor(node.right) > 0) {
      node.right = this._rightRotate(node.right)
      return this._leftRotate(node)
    }

    return node
  }
  _getHeight(node) {
    if (!node) return 0
    return node.height
  }
  _getBalanceFactor(node) {
    return this._getHeight(node.left) - this._getHeight(node.right)
  }
  // èŠ‚ç‚¹å³æ—‹
  //           5                    2
  //         /   \                /   \
  //        2     6   ==>       1      5
  //       /  \               /       /  \
  //      1    3             new     3    6
  //     /
  //    new
  _rightRotate(node) {
    // æ—‹è½¬åæ–°æ ¹èŠ‚ç‚¹
    let newRoot = node.left
    // éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹
    let moveNode = newRoot.right
    // èŠ‚ç‚¹ 2 çš„å³èŠ‚ç‚¹æ”¹ä¸ºèŠ‚ç‚¹ 5
    newRoot.right = node
    // èŠ‚ç‚¹ 5 å·¦èŠ‚ç‚¹æ”¹ä¸ºèŠ‚ç‚¹ 3
    node.left = moveNode
    // æ›´æ–°æ ‘çš„é«˜åº¦
    node.height =
      1 + Math.max(this._getHeight(node.left), this._getHeight(node.right))
    newRoot.height =
      1 +
      Math.max(this._getHeight(newRoot.left), this._getHeight(newRoot.right))

    return newRoot
  }
  // èŠ‚ç‚¹å·¦æ—‹
  //           4                    6
  //         /   \                /   \
  //        2     6   ==>       4      7
  //             /  \         /   \      \
  //            5     7      2     5      new
  //                   \
  //                    new
  _leftRotate(node) {
    // æ—‹è½¬åæ–°æ ¹èŠ‚ç‚¹
    let newRoot = node.right
    // éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹
    let moveNode = newRoot.left
    // èŠ‚ç‚¹ 6 çš„å·¦èŠ‚ç‚¹æ”¹ä¸ºèŠ‚ç‚¹ 4
    newRoot.left = node
    // èŠ‚ç‚¹ 4 å³èŠ‚ç‚¹æ”¹ä¸ºèŠ‚ç‚¹ 5
    node.right = moveNode
    // æ›´æ–°æ ‘çš„é«˜åº¦
    node.height =
      1 + Math.max(this._getHeight(node.left), this._getHeight(node.right))
    newRoot.height =
      1 +
      Math.max(this._getHeight(newRoot.left), this._getHeight(newRoot.right))

    return newRoot
  }
}
```

## Trie

### æ¦‚å¿µ

åœ¨è®¡ç®—æœºç§‘å­¦ï¼Œ**trie**ï¼Œåˆç§°**å‰ç¼€æ ‘**æˆ–**å­—å…¸æ ‘**ï¼Œæ˜¯ä¸€ç§æœ‰åºæ ‘ï¼Œç”¨äºä¿å­˜å…³è”æ•°ç»„ï¼Œå…¶ä¸­çš„é”®é€šå¸¸æ˜¯å­—ç¬¦ä¸²ã€‚

ç®€å•ç‚¹æ¥è¯´ï¼Œè¿™ä¸ªç»“æ„çš„ä½œç”¨å¤§å¤šæ˜¯ä¸ºäº†æ–¹ä¾¿æœç´¢å­—ç¬¦ä¸²ï¼Œè¯¥æ ‘æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹

- æ ¹èŠ‚ç‚¹ä»£è¡¨ç©ºå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ Nï¼ˆå‡å¦‚æœç´¢è‹±æ–‡å­—ç¬¦ï¼Œå°±æœ‰ 26 æ¡ï¼‰ æ¡é“¾æ¥ï¼Œæ¯æ¡é“¾æ¥ä»£è¡¨ä¸€ä¸ªå­—ç¬¦
- èŠ‚ç‚¹ä¸å­˜å‚¨å­—ç¬¦ï¼Œåªæœ‰è·¯å¾„æ‰å­˜å‚¨ï¼Œè¿™ç‚¹å’Œå…¶ä»–çš„æ ‘ç»“æ„ä¸åŒ
- ä»æ ¹èŠ‚ç‚¹å¼€å§‹åˆ°ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†æ²¿é€”ç»è¿‡çš„å­—ç¬¦è¿æ¥èµ·æ¥å°±æ˜¯è¯¥èŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/6/9/163e1d2f6cec3348~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)

ã€



### å®ç°

æ€»å¾—æ¥è¯´ Trie çš„å®ç°ç›¸æ¯”åˆ«çš„æ ‘ç»“æ„æ¥è¯´ç®€å•çš„å¾ˆå¤šï¼Œå®ç°å°±ä»¥æœç´¢è‹±æ–‡å­—ç¬¦ä¸ºä¾‹ã€‚

```
class TrieNode {
  constructor() {
    // ä»£è¡¨æ¯ä¸ªå­—ç¬¦ç»è¿‡èŠ‚ç‚¹çš„æ¬¡æ•°
    this.path = 0
    // ä»£è¡¨åˆ°è¯¥èŠ‚ç‚¹çš„å­—ç¬¦ä¸²æœ‰å‡ ä¸ª
    this.end = 0
    // é“¾æ¥
    this.next = new Array(26).fill(null)
  }
}
class Trie {
  constructor() {
    // æ ¹èŠ‚ç‚¹ï¼Œä»£è¡¨ç©ºå­—ç¬¦
    this.root = new TrieNode()
  }
  // æ’å…¥å­—ç¬¦ä¸²
  insert(str) {
    if (!str) return
    let node = this.root
    for (let i = 0; i < str.length; i++) {
      // è·å¾—å­—ç¬¦å…ˆå¯¹åº”çš„ç´¢å¼•
      let index = str[i].charCodeAt() - 'a'.charCodeAt()
      // å¦‚æœç´¢å¼•å¯¹åº”æ²¡æœ‰å€¼ï¼Œå°±åˆ›å»º
      if (!node.next[index]) {
        node.next[index] = new TrieNode()
      }
      node.path += 1
      node = node.next[index]
    }
    node.end += 1
  }
  // æœç´¢å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°
  search(str) {
    if (!str) return
    let node = this.root
    for (let i = 0; i < str.length; i++) {
      let index = str[i].charCodeAt() - 'a'.charCodeAt()
      // å¦‚æœç´¢å¼•å¯¹åº”æ²¡æœ‰å€¼ï¼Œä»£è¡¨æ²¡æœ‰éœ€è¦æœç´ çš„å­—ç¬¦ä¸²
      if (!node.next[index]) {
        return 0
      }
      node = node.next[index]
    }
    return node.end
  }
  // åˆ é™¤å­—ç¬¦ä¸²
  delete(str) {
    if (!this.search(str)) return
    let node = this.root
    for (let i = 0; i < str.length; i++) {
      let index = str[i].charCodeAt() - 'a'.charCodeAt()
      // å¦‚æœç´¢å¼•å¯¹åº”çš„èŠ‚ç‚¹çš„ Path ä¸º 0ï¼Œä»£è¡¨ç»è¿‡è¯¥èŠ‚ç‚¹çš„å­—ç¬¦ä¸²
      // å·²ç»ä¸€ä¸ªï¼Œç›´æ¥åˆ é™¤å³å¯
      if (--node.next[index].path == 0) {
        node.next[index] = null
        return
      }
      node = node.next[index]
    }
    node.end -= 1
  }
}
```

## å¹¶æŸ¥é›†

### æ¦‚å¿µ

å¹¶æŸ¥é›†æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ç»“æ„ï¼Œç”¨äºå¤„ç†ä¸€äº›ä¸äº¤é›†çš„åˆå¹¶åŠæŸ¥è¯¢é—®é¢˜ã€‚è¯¥ç»“æ„ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œå¦‚æœåªæœ‰å½“å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘è‡ªå·±ã€‚

è¿™ä¸ªç»“æ„ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æ“ä½œï¼Œåˆ†åˆ«æ˜¯ï¼š

- Findï¼šç¡®å®šå…ƒç´ å±äºå“ªä¸€ä¸ªå­é›†ã€‚å®ƒå¯ä»¥è¢«ç”¨æ¥ç¡®å®šä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€å­é›†ã€‚
- Unionï¼šå°†ä¸¤ä¸ªå­é›†åˆå¹¶æˆåŒä¸€ä¸ªé›†åˆã€‚



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/6/9/163e45b56fd25172~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)



### å®ç°

```
class DisjointSet {
  // åˆå§‹åŒ–æ ·æœ¬
  constructor(count) {
    // åˆå§‹åŒ–æ—¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è‡ªå·±
    this.parent = new Array(count)
    // ç”¨äºè®°å½•æ ‘çš„æ·±åº¦ï¼Œä¼˜åŒ–æœç´¢å¤æ‚åº¦
    this.rank = new Array(count)
    for (let i = 0; i < count; i++) {
      this.parent[i] = i
      this.rank[i] = 1
    }
  }
  find(p) {
    // å¯»æ‰¾å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯å¦ä¸ºè‡ªå·±ï¼Œä¸æ˜¯çš„è¯è¡¨ç¤ºè¿˜æ²¡æ‰¾åˆ°
    // å¼€å§‹è¿›è¡Œè·¯å¾„å‹ç¼©ä¼˜åŒ–
    // å‡è®¾å½“å‰èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹ä¸º A
    // å°†å½“å‰èŠ‚ç‚¹æŒ‚è½½åˆ° A èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸Šï¼Œè¾¾åˆ°å‹ç¼©æ·±åº¦çš„ç›®çš„
    while (p != this.parent[p]) {
      this.parent[p] = this.parent[this.parent[p]]
      p = this.parent[p]
    }
    return p
  }
  isConnected(p, q) {
    return this.find(p) === this.find(q)
  }
  // åˆå¹¶
  union(p, q) {
    // æ‰¾åˆ°ä¸¤ä¸ªæ•°å­—çš„çˆ¶èŠ‚ç‚¹
    let i = this.find(p)
    let j = this.find(q)
    if (i === j) return
    // åˆ¤æ–­ä¸¤æ£µæ ‘çš„æ·±åº¦ï¼Œæ·±åº¦å°çš„åŠ åˆ°æ·±åº¦å¤§çš„æ ‘ä¸‹é¢
    // å¦‚æœä¸¤æ£µæ ‘æ·±åº¦ç›¸ç­‰ï¼Œé‚£å°±æ— æ‰€è°“æ€ä¹ˆåŠ 
    if (this.rank[i] < this.rank[j]) {
      this.parent[i] = j
    } else if (this.rank[i] > this.rank[j]) {
      this.parent[j] = i
    } else {
      this.parent[i] = j
      this.rank[j] += 1
    }
  }
}
```

## å †

### æ¦‚å¿µ

å †é€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹åšä¸€æ£µæ ‘çš„æ•°ç»„å¯¹è±¡ã€‚

å †çš„å®ç°é€šè¿‡æ„é€ **äºŒå‰å †**ï¼Œå®ä¸ºäºŒå‰æ ‘çš„ä¸€ç§ã€‚è¿™ç§æ•°æ®ç»“æ„å…·æœ‰ä»¥ä¸‹æ€§è´¨ã€‚

- ä»»æ„èŠ‚ç‚¹å°äºï¼ˆæˆ–å¤§äºï¼‰å®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹
- å †æ€»æ˜¯ä¸€æ£µå®Œå…¨æ ‘ã€‚å³é™¤äº†æœ€åº•å±‚ï¼Œå…¶ä»–å±‚çš„èŠ‚ç‚¹éƒ½è¢«å…ƒç´ å¡«æ»¡ï¼Œä¸”æœ€åº•å±‚ä»å·¦åˆ°å³å¡«å…¥ã€‚

å°†æ ¹èŠ‚ç‚¹æœ€å¤§çš„å †å«åš**æœ€å¤§å †**æˆ–**å¤§æ ¹å †**ï¼Œæ ¹èŠ‚ç‚¹æœ€å°çš„å †å«åš**æœ€å°å †**æˆ–**å°æ ¹å †**ã€‚

ä¼˜å…ˆé˜Ÿåˆ—ä¹Ÿå®Œå…¨å¯ä»¥ç”¨å †æ¥å®ç°ï¼Œæ“ä½œæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚

### å®ç°å¤§æ ¹å †

å †çš„æ¯ä¸ªèŠ‚ç‚¹çš„å·¦è¾¹å­èŠ‚ç‚¹ç´¢å¼•æ˜¯ `i * 2 + 1`ï¼Œå³è¾¹æ˜¯ `i * 2 + 2`ï¼Œçˆ¶èŠ‚ç‚¹æ˜¯ `(i - 1) /2`ã€‚

å †æœ‰ä¸¤ä¸ªæ ¸å¿ƒçš„æ“ä½œï¼Œåˆ†åˆ«æ˜¯ `shiftUp` å’Œ `shiftDown` ã€‚å‰è€…ç”¨äºæ·»åŠ å…ƒç´ ï¼Œåè€…ç”¨äºåˆ é™¤æ ¹èŠ‚ç‚¹ã€‚

`shiftUp` çš„æ ¸å¿ƒæ€è·¯æ˜¯ä¸€è·¯å°†èŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹å¯¹æ¯”å¤§å°ï¼Œå¦‚æœæ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œå°±å’Œçˆ¶èŠ‚ç‚¹äº¤æ¢ä½ç½®ã€‚

`shiftDown` çš„æ ¸å¿ƒæ€è·¯æ˜¯å…ˆå°†æ ¹èŠ‚ç‚¹å’Œæœ«å°¾äº¤æ¢ä½ç½®ï¼Œç„¶åç§»é™¤æœ«å°¾å…ƒç´ ã€‚æ¥ä¸‹æ¥å¾ªç¯åˆ¤æ–­çˆ¶èŠ‚ç‚¹å’Œä¸¤ä¸ªå­èŠ‚ç‚¹çš„å¤§å°ï¼Œå¦‚æœå­èŠ‚ç‚¹å¤§ï¼Œå°±æŠŠæœ€å¤§çš„å­èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹äº¤æ¢ã€‚



![img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/6/15/164009e58a5a21f8~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp)



```
class MaxHeap {
  constructor() {
    this.heap = []
  }
  size() {
    return this.heap.length
  }
  empty() {
    return this.size() == 0
  }
  add(item) {
    this.heap.push(item)
    this._shiftUp(this.size() - 1)
  }
  removeMax() {
    this._shiftDown(0)
  }
  getParentIndex(k) {
    return parseInt((k - 1) / 2)
  }
  getLeftIndex(k) {
    return k * 2 + 1
  }
  _shiftUp(k) {
    // å¦‚æœå½“å‰èŠ‚ç‚¹æ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œå°±äº¤æ¢
    while (this.heap[k] > this.heap[this.getParentIndex(k)]) {
      this._swap(k, this.getParentIndex(k))
      // å°†ç´¢å¼•å˜æˆçˆ¶èŠ‚ç‚¹
      k = this.getParentIndex(k)
    }
  }
  _shiftDown(k) {
    // äº¤æ¢é¦–ä½å¹¶åˆ é™¤æœ«å°¾
    this._swap(k, this.size() - 1)
    this.heap.splice(this.size() - 1, 1)
    // åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æœ‰å·¦å­©å­ï¼Œå› ä¸ºäºŒå‰å †çš„ç‰¹æ€§ï¼Œæœ‰å³å¿…æœ‰å·¦
    while (this.getLeftIndex(k) < this.size()) {
      let j = this.getLeftIndex(k)
      // åˆ¤æ–­æ˜¯å¦æœ‰å³å­©å­ï¼Œå¹¶ä¸”å³å­©å­æ˜¯å¦å¤§äºå·¦å­©å­
      if (j + 1 < this.size() && this.heap[j + 1] > this.heap[j]) j++
      // åˆ¤æ–­çˆ¶èŠ‚ç‚¹æ˜¯å¦å·²ç»æ¯”å­èŠ‚ç‚¹éƒ½å¤§
      if (this.heap[k] >= this.heap[j]) break
      this._swap(k, j)
      k = j
    }
  }
  _swap(left, right) {
    let rightValue = this.heap[right]
    this.heap[right] = this.heap[left]
    this.heap[left] = rightValue
  }
}
```

## å°ç»“

è¿™ä¸€ç« èŠ‚æˆ‘ä»¬å­¦ä¹ äº†ä¸€äº›å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œå½“ç„¶æˆ‘æ²¡æœ‰å°†å…¶ä»–æ›´éš¾çš„æ•°æ®ç»“æ„ä¹Ÿæ”¾è¿›æ¥ï¼Œèƒ½å¤ŸæŒæ¡è¿™äº›å¸¸è§çš„å†…å®¹å·²ç»è¶³å¤Ÿè§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜äº†ã€‚å½“ç„¶ä½ å¦‚æœè¿˜æƒ³ç»§ç»­æ·±å…¥å­¦ä¹ æ•°æ®ç»“æ„ï¼Œå¯ä»¥é˜…è¯» [ç®—æ³•ç¬¬å››ç‰ˆ](https://link.juejin.cn/?target=https%3A%2F%2Fbook.douban.com%2Fsubject%2F19952400%2F) ä»¥åŠåœ¨ [leetcode](https://link.juejin.cn/?target=https%3A%2F%2Fleetcode-cn.com%2Fproblemset%2Fall%2F) ä¸­å®è·µã€‚

ç•™è¨€

![img](https://p9-passport.byteacctimg.com/img/user-avatar/5e41ee1c076d80557fa78839ed4c71c7~300x300.image)

å‘è¡¨è¯„è®º

å…¨éƒ¨è¯„è®ºï¼ˆ20ï¼‰

[![sunsheadçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/3139860942309144)

[sunshead](https://juejin.cn/user/3139860942309144)

1å¹´å‰

å †çš„ä¸¤ä¸ªæ ¸å¿ƒæ“ä½œæ˜¯siftUpå’ŒsiftDownå“ˆ

ç‚¹èµ

å›å¤

[![xiaoxiaooçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/993614243047991)

[xiaoxiaoo![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/993614243047991)

web @ Freelancer1å¹´å‰

yckä¹‹å‰åšè¿‡iOSï¼Ÿ

ç‚¹èµ

å›å¤

[![å±±é‡æ™¨é£çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/4265760844941454)

[å±±é‡æ™¨é£](https://juejin.cn/user/4265760844941454)

1å¹´å‰

äºŒåˆ†æœç´¢æ ‘ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼šå®ƒçš„å€¼å¤§äºå·¦å­æ ‘ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œå¹¶ä¸”å°äºå…¶å³å­æ ‘ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚è¿™æ ·å®šä¹‰äºŒåˆ†æœç´¢æ ‘æ›´æ¸…æ™°

ç‚¹èµ

å›å¤

[![å±±é‡æ™¨é£çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/4265760844941454)

[å±±é‡æ™¨é£](https://juejin.cn/user/4265760844941454)

1å¹´å‰

æˆ‘è·‘äº†ä¸€ä¸‹äºŒåˆ†æœç´¢æ ‘çš„æ’åä»£ç  æ„Ÿè§‰ä¸å¯¹å‘€ é‚£ä¸ªèŠ‚ç‚¹æ•°é‡å“ªé‡Œæ˜¯ä¸æ˜¯ä¸èƒ½è¿™ä¸ªç®—å‘€

ç‚¹èµ

å›å¤

[![ä½ è‹¥åƒé£çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/2277843823766967)

[ä½ è‹¥åƒé£![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/2277843823766967)

å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ1å¹´å‰

è¿™ä¸ªç« èŠ‚å¥½éš¾å•Šï¼Œçœ‹ä¸æ‡‚ã€‚

1

å›å¤

[![JJBoomçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/729731449506983)

[JJBoom![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/729731449506983)

2å¹´å‰

\```
resize(length) {
 let q = new Array(length)
 // å¾ªç¯é˜Ÿåˆ— >> è¿™é‡Œä¸ºä»€ä¹ˆæ˜¯ç”¨ length åšåˆ¤æ–­ï¼Œä¸æ˜¯ getLength()
 for (let i = 0; i < length; i++) {
 q[i] = this.queue[(i + this.first) % this.queue.length]
 }
 this.queue = q
 this.first = 0
 this.last = this.size
 }
\```

å±•å¼€

ç‚¹èµ

å›å¤

[![JJBoomçš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/729731449506983)

[JJBoom![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/729731449506983)

2å¹´å‰

å¾ªç¯åˆ—è¡¨åˆå§‹åŒ–ä¸ºä»€ä¹ˆè¦ length + 1 å‘¢ï¼Ÿ
 `this.queue = new Array(length + 1)`

ç‚¹èµ

å›å¤

[![kingç‹ä¸€å¸…çš„å¤´åƒ](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC)](https://juejin.cn/user/395479917018408)

[kingç‹ä¸€å¸…![lv-2](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg)](https://juejin.cn/user/395479917018408)

å‰ç«¯å·¥ç¨‹å¸ˆ @ å­—èŠ‚è·³åŠ¨2å¹´å‰

_floorä¸­çš„` if(node.value === v) return v`åº”è¯¥å†™æˆ` if(node.value === v) return node`å§![ğŸ˜‚](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/asset/twemoji/2.6.0/svg/1f602.svg~tplv-t2oaga2asx-image.image)å› ä¸ºfloorè¿”å›çš„æ˜¯node.valueï¼Œå¦‚æœç›¸ç­‰çš„ä¹Ÿåº”è¯¥è¿”å›ç›¸åº”çš„èŠ‚ç‚¹ã€‚è€å¸ˆè¿™é‡Œæ˜¯ç¬”è¯¯äº†å§

1

å›å¤

[![zy_chçš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/user-avatar/27718d38ddbc0f3d2a9ef27273366fdb~300x300.image)](https://juejin.cn/user/2963939079226200)

[zy_ch![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/2963939079226200)

FE @ ä¸œå“¥å…„å¼Ÿ2å¹´å‰

æ€ä¹ˆç”¨é“¾è¡¨å®ç°ä¸€ä¸ªé˜Ÿåˆ—å‘€

ç‚¹èµ

å›å¤

[![ä»˜è¾¾æ„çš„å¤´åƒ](https://p26-passport.byteacctimg.com/img/user-avatar/159fcd0a55e8f410aee77e25be51050c~300x300.image)](https://juejin.cn/user/1697301682992071)

[ä»˜è¾¾æ„](https://juejin.cn/user/1697301682992071)

æ‰“æ‚ @ æœ‰èµ2å¹´å‰

å¯ä»¥åŠ å‡ ä¸ª test case å—ï¼Ÿæ²¡ç”¨ case æœ‰ç‚¹çœ‹ä¸æ‡‚

1

å›å¤

[![éª‘èª“çš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/3/7/16957f40b18d2426~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/4371313963829607)

[éª‘èª“](https://juejin.cn/user/4371313963829607)

2å¹´å‰

å¥½éš¾ -- ä¸ºå•¥è¿™é‡Œè¯„è®ºè¿™ä¹ˆå°‘

ç‚¹èµ

å›å¤

[![å°±æ˜¯ä¸€ä¸ªæ˜¥å¤©çš„èŠ±æœµçš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/4/2/169dd1097e4f9e32~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/3614849961562253)

[å°±æ˜¯ä¸€ä¸ªæ˜¥å¤©çš„èŠ±æœµ![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/3614849961562253)

èµ„æ·±æ‘¸é±¼å·¥ç¨‹å¸ˆ2å¹´å‰

åŒiOSè½¬æ–¹å‘

1

å›å¤

[![å·²æ³¨é”€çš„å¤´åƒ](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ff57d88c52aa4322866860625efe087d~tplv-k3u1fbpfcp-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/1714893870608158)

[å·²æ³¨é”€](https://juejin.cn/user/1714893870608158)

3å¹´å‰

æ¥ä¸‹æ¥å…ˆä»‹ç»å¦‚ä½•åœ¨æ ‘ä¸­å¯»æ‰¾æœ€å°å€¼æˆ–æœ€å¤§æ•°ã€‚å› ä¸ºäºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æœ€å°å€¼ä¸€å®šåœ¨æ ¹èŠ‚ç‚¹çš„æœ€å·¦è¾¹ï¼Œæœ€å¤§å€¼ç›¸å
è¿™éƒ¨åˆ†æä¾›çš„ä»£ç 
_getMax(node) {
 if (!node.right) return node
 return this._getMin(node.right)
}
è²Œä¼¼åº”è¯¥æ˜¯ return this._getMax(node.right)

å±•å¼€

ç‚¹èµ

å›å¤

[![è£¸è€ƒä¸æŒ‚çš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/1/2/1680d864b58a553b~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/3087084380235127)

[è£¸è€ƒä¸æŒ‚![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/3087084380235127)

é“²å±å®˜ @ å®¶é‡Œè¹²3å¹´å‰

å¾ªç¯é˜Ÿåˆ—sqQueueçš„è‹±æ–‡å…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿè¿™åå­—åªæœ‰åœ¨ä¸­æ–‡èµ„æ–™é‡Œæœ‰ã€‚ã€‚è°·æ­Œä¸Šæœæœ€ç›¸è¿‘çš„å¥½åƒæ˜¯circular buffer

ç‚¹èµ

1

[![img](https://p3-passport.byteacctimg.com/img/user-avatar/be8ee0281605f25f86dad7ff36cb633b~300x300.image)](https://juejin.cn/user/3526889030287416)

[razor1895](https://juejin.cn/user/3526889030287416)

3å¹´å‰

circular queue

ç‚¹èµ

å›å¤

[![è¯ºç»´é˜¿é‘«ğŸ˜Šçš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/mirror-assets/168e09bc93b83a9f107~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/4212984288122493)

[è¯ºç»´é˜¿é‘«ğŸ˜Š](https://juejin.cn/user/4212984288122493)

3å¹´å‰

äºŒåˆ†æœç´¢æ ‘ä¸­çš„åˆ é™¤èŠ‚ç‚¹çš„åˆ é™¤æœ€å°æƒ…å†µ åœ¨if ((node != null) & !node.left) return node.rightä¸­çš„&æ˜¯ä¸æ˜¯å†™æ¼äº†ï¼Ÿ

ç‚¹èµ

å›å¤

[![åŠªåŠªçš„å¤´åƒ](https://p3-passport.byteacctimg.com/img/user-avatar/4a0cabee22d5306626bbced4a8053c76~300x300.image)](https://juejin.cn/user/3034307822105016)

[åŠªåŠª](https://juejin.cn/user/3034307822105016)

3å¹´å‰

çœ‹ä¸æ‡‚

ç‚¹èµ

å›å¤

[![é©¬å…‹é¾™çš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/4/26/171b533d25770887~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/448256474611885)

[é©¬å…‹é¾™![lv-1](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/636691cd590f92898cfcda37357472b8.svg)](https://juejin.cn/user/448256474611885)

å‰ç«¯å¼€å‘3å¹´å‰

é“¾è¡¨ä¸­ï¼ŒremoveNodeæ–¹æ³•çš„â€œisLastâ€è¡¨ç¤ºå•¥ï¼Ÿindex = isLast ? index - 1 : indexï¼Œä¸ºä»€ä¹ˆè¦-1ï¼Ÿ

ç‚¹èµ

1

[![img](https://p26-passport.byteacctimg.com/img/user-avatar/a386aa8db73c9678458ec34161472ca5~300x300.image)](https://juejin.cn/user/712139233840407)

[yck![lv-7](https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/7a2d00014351211140dd9bc0ba3afd8c.svg)](https://juejin.cn/user/712139233840407)

ï¼ˆä½œè€…ï¼‰3å¹´å‰

this.removeNode(this.size, true)

ç‚¹èµ

å›å¤

[![crackedloveçš„å¤´åƒ](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/11/26/1674dfb5865d5694~tplv-t2oaga2asx-no-mark:100:100:100:100.awebp)](https://juejin.cn/user/2225067265633431)

[crackedlove](https://juejin.cn/user/2225067265633431)

å‰ç«¯æ”»åŸç‹®3å¹´å‰

å¥½å¤š